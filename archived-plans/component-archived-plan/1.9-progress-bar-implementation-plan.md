# 1.9 ProgressBar Component Implementation Plan

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** Build a production-ready ProgressBar component for both Web (Next.js + shadcn/ui) and Mobile (React Native + Expo) platforms with full TDD coverage.

**Architecture:** Web uses shadcn/ui Progress with Radix UI primitives. Mobile uses React Native Animated API for smooth transitions. Both support size variants, color variants, optional labels, and animation.

**Tech Stack:**
- Web: Next.js 16, React 19, TypeScript strict, Tailwind CSS 4, @radix-ui/react-progress
- Mobile: React Native, Expo SDK 54, TypeScript strict, Animated API

---

## Pre-Implementation Checklist

Before starting, verify these skills are loaded:
- [ ] `superpowers:test-driven-development` - TDD workflow
- [ ] `superpowers:testing-anti-patterns` - Avoid common test mistakes
- [ ] `solid-design-principles` - SOLID compliance

---

## Component Specification

### Props Interface

```typescript
// Web
interface ProgressBarProps {
  value: number; // 0-100
  max?: number; // default 100
  variant?: 'default' | 'success' | 'warning' | 'error';
  size?: 'sm' | 'md' | 'lg';
  showLabel?: boolean;
  label?: string;
  animated?: boolean;
  className?: string;
}

// Mobile
interface ProgressBarProps {
  value: number;
  max?: number;
  variant?: 'default' | 'success' | 'warning' | 'error';
  size?: 'sm' | 'md' | 'lg';
  showLabel?: boolean;
  label?: string;
  animated?: boolean;
  style?: StyleProp<ViewStyle>;
}
```

### Size Mapping

| Size | Web (Tailwind) | Mobile (px) |
|------|----------------|-------------|
| sm | h-1 (4px) | 4px |
| md | h-2 (8px) | 8px |
| lg | h-3 (12px) | 12px |

### Variant Colors (Klard Design System)

| Variant | Light Mode | Dark Mode |
|---------|------------|-----------|
| default | #0D7C7A (teal-600) | #15B5B0 (teal-500) |
| success | #059669 (green-600) | #10B981 (green-500) |
| warning | #D97706 (amber-600) | #F59E0B (amber-500) |
| error | #DC2626 (red-600) | #EF4444 (red-500) |

---

## SOLID Compliance

| Principle | Implementation |
|-----------|----------------|
| **SRP** | ProgressBar only displays progress - no business logic |
| **OCP** | Size/variant via props, no modification needed |
| **LSP** | All size/variant values produce valid progress bars |
| **ISP** | Minimal interface with only necessary props |
| **DIP** | Component depends on abstract size/variant types |

---

## Dependencies

### Web
- `@radix-ui/react-progress` - Progress primitives (install via shadcn)
- `@/lib/utils` - cn utility (already exists)

### Mobile
- `react-native` - Animated API (built-in)
- No additional dependencies needed

---

# PART 1: WEB IMPLEMENTATION

## Task 1: Install shadcn/ui Progress

**Files:**
- Create: `klard-web/src/components/ui/progress.tsx` (via CLI)

**Step 1: Run shadcn CLI to add progress**

```bash
cd /Users/drcraig/Desktop/PersonalProjects/klard-apps/klard-web
npx shadcn@latest add progress
```

**Step 2: Verify installation**

```bash
ls -la /Users/drcraig/Desktop/PersonalProjects/klard-apps/klard-web/src/components/ui/progress.tsx
```

Expected: File exists

---

## Task 2: Write Failing Tests for ProgressBar Rendering

**Files:**
- Create: `klard-web/src/__tests__/components/ui/progress-bar.test.tsx`

**Step 1: Create test file with rendering tests**

```tsx
/**
 * Tests for ProgressBar Component
 *
 * TDD: Write failing tests first, then implement to pass.
 * Tests verify: rendering, sizes, variants, labels, accessibility
 */

import { describe, it, expect } from 'vitest';
import { render, screen } from '@testing-library/react';
import { ProgressBar } from '@/components/ui/progress-bar';

describe('ProgressBar', () => {
  describe('Rendering', () => {
    it('should render progress bar container', () => {
      render(<ProgressBar value={50} />);

      const progressbar = screen.getByRole('progressbar');
      expect(progressbar).toBeInTheDocument();
    });

    it('should render with data-slot attribute', () => {
      const { container } = render(<ProgressBar value={50} />);

      const progress = container.querySelector('[data-slot="progress"]');
      expect(progress).toBeInTheDocument();
    });

    it('should render indicator with data-slot attribute', () => {
      const { container } = render(<ProgressBar value={50} />);

      const indicator = container.querySelector('[data-slot="progress-indicator"]');
      expect(indicator).toBeInTheDocument();
    });
  });
});
```

**Step 2: Run tests to verify they fail**

```bash
cd /Users/drcraig/Desktop/PersonalProjects/klard-apps
pnpm --filter klard-web test src/__tests__/components/ui/progress-bar.test.tsx --run
```

Expected: FAIL - ProgressBar component doesn't exist

---

## Task 3: Write Failing Tests for Size Variants

**Files:**
- Modify: `klard-web/src/__tests__/components/ui/progress-bar.test.tsx`

**Step 1: Add size tests**

```tsx
  describe('Sizes', () => {
    it('should apply sm size class (h-1)', () => {
      const { container } = render(<ProgressBar value={50} size="sm" />);

      const progress = container.querySelector('[data-slot="progress"]');
      expect(progress?.className).toMatch(/h-1/);
    });

    it('should apply md size class by default (h-2)', () => {
      const { container } = render(<ProgressBar value={50} />);

      const progress = container.querySelector('[data-slot="progress"]');
      expect(progress?.className).toMatch(/h-2/);
    });

    it('should apply lg size class (h-3)', () => {
      const { container } = render(<ProgressBar value={50} size="lg" />);

      const progress = container.querySelector('[data-slot="progress"]');
      expect(progress?.className).toMatch(/h-3/);
    });
  });
```

**Step 2: Run tests to verify they fail**

```bash
pnpm --filter klard-web test src/__tests__/components/ui/progress-bar.test.tsx --run
```

Expected: FAIL - Size prop not implemented

---

## Task 4: Write Failing Tests for Variants and Labels

**Files:**
- Modify: `klard-web/src/__tests__/components/ui/progress-bar.test.tsx`

**Step 1: Add variant and label tests**

```tsx
  describe('Variants', () => {
    it('should apply default variant color (teal-600)', () => {
      const { container } = render(<ProgressBar value={50} />);

      const indicator = container.querySelector('[data-slot="progress-indicator"]');
      expect(indicator?.className).toContain('bg-teal-600');
    });

    it('should apply success variant color (green-600)', () => {
      const { container } = render(<ProgressBar value={50} variant="success" />);

      const indicator = container.querySelector('[data-slot="progress-indicator"]');
      expect(indicator?.className).toContain('bg-green-600');
    });

    it('should apply warning variant color (amber-500)', () => {
      const { container } = render(<ProgressBar value={50} variant="warning" />);

      const indicator = container.querySelector('[data-slot="progress-indicator"]');
      expect(indicator?.className).toContain('bg-amber-500');
    });

    it('should apply error variant color (red-600)', () => {
      const { container } = render(<ProgressBar value={50} variant="error" />);

      const indicator = container.querySelector('[data-slot="progress-indicator"]');
      expect(indicator?.className).toContain('bg-red-600');
    });
  });

  describe('Labels', () => {
    it('should display percentage when showLabel is true', () => {
      render(<ProgressBar value={75} showLabel />);

      expect(screen.getByText('75%')).toBeInTheDocument();
    });

    it('should display custom label when provided', () => {
      render(<ProgressBar value={50} label="Loading..." />);

      expect(screen.getByText('Loading...')).toBeInTheDocument();
    });

    it('should display both label and percentage', () => {
      render(<ProgressBar value={50} label="Progress" showLabel />);

      expect(screen.getByText('Progress')).toBeInTheDocument();
      expect(screen.getByText('50%')).toBeInTheDocument();
    });

    it('should not display label when not provided', () => {
      const { container } = render(<ProgressBar value={50} />);

      // Only the progress bar should be rendered
      expect(screen.queryByText('50%')).not.toBeInTheDocument();
    });
  });

  describe('Accessibility', () => {
    it('should have aria-valuenow', () => {
      render(<ProgressBar value={75} />);

      const progressbar = screen.getByRole('progressbar');
      expect(progressbar).toHaveAttribute('aria-valuenow', '75');
    });

    it('should have aria-valuemin', () => {
      render(<ProgressBar value={50} />);

      const progressbar = screen.getByRole('progressbar');
      expect(progressbar).toHaveAttribute('aria-valuemin', '0');
    });

    it('should have aria-valuemax', () => {
      render(<ProgressBar value={50} max={100} />);

      const progressbar = screen.getByRole('progressbar');
      expect(progressbar).toHaveAttribute('aria-valuemax', '100');
    });
  });

  describe('Custom className', () => {
    it('should merge custom className', () => {
      const { container } = render(
        <ProgressBar value={50} className="custom-class" />
      );

      const wrapper = container.firstChild;
      expect(wrapper).toHaveClass('custom-class');
    });
  });
```

**Step 2: Run all tests to verify they fail**

```bash
pnpm --filter klard-web test src/__tests__/components/ui/progress-bar.test.tsx --run
```

Expected: Multiple FAIL

---

## Task 5: Implement ProgressBar Component

**Files:**
- Create: `klard-web/src/components/ui/progress-bar.tsx`

**Step 1: Create the ProgressBar component**

```tsx
'use client';

import * as React from 'react';
import * as ProgressPrimitive from '@radix-ui/react-progress';

import { cn } from '@/lib/utils';

const sizeMap = {
  sm: 'h-1',
  md: 'h-2',
  lg: 'h-3',
} as const;

const variantMap = {
  default: 'bg-teal-600 dark:bg-teal-500',
  success: 'bg-green-600 dark:bg-green-500',
  warning: 'bg-amber-500 dark:bg-amber-400',
  error: 'bg-red-600 dark:bg-red-500',
} as const;

export type ProgressBarSize = keyof typeof sizeMap;
export type ProgressBarVariant = keyof typeof variantMap;

export interface ProgressBarProps {
  value: number;
  max?: number;
  variant?: ProgressBarVariant;
  size?: ProgressBarSize;
  showLabel?: boolean;
  label?: string;
  animated?: boolean;
  className?: string;
}

function ProgressBar({
  value,
  max = 100,
  variant = 'default',
  size = 'md',
  showLabel = false,
  label,
  animated = true,
  className,
}: ProgressBarProps) {
  const percentage = Math.min(Math.max((value / max) * 100, 0), 100);

  return (
    <div className={cn('space-y-1', className)}>
      {(showLabel || label) && (
        <div className="flex justify-between text-sm">
          {label && (
            <span className="text-slate-600 dark:text-slate-400">{label}</span>
          )}
          {showLabel && (
            <span className="text-slate-500 dark:text-slate-500 tabular-nums">
              {Math.round(percentage)}%
            </span>
          )}
        </div>
      )}
      <ProgressPrimitive.Root
        data-slot="progress"
        className={cn(
          'relative w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-700',
          sizeMap[size]
        )}
        value={percentage}
      >
        <ProgressPrimitive.Indicator
          data-slot="progress-indicator"
          className={cn(
            'h-full w-full flex-1 rounded-full',
            variantMap[variant],
            animated && 'transition-transform duration-300 ease-in-out'
          )}
          style={{ transform: `translateX(-${100 - percentage}%)` }}
        />
      </ProgressPrimitive.Root>
    </div>
  );
}

export { ProgressBar };
```

**Step 2: Run tests to verify they pass**

```bash
pnpm --filter klard-web test src/__tests__/components/ui/progress-bar.test.tsx --run
```

Expected: All tests PASS

---

## Task 6: Export ProgressBar from Index

**Files:**
- Modify: `klard-web/src/components/ui/index.ts`

**Step 1: Add ProgressBar export**

Add this line to the exports:

```typescript
export { ProgressBar, type ProgressBarProps, type ProgressBarSize, type ProgressBarVariant } from './progress-bar';
```

**Step 2: Verify TypeScript compiles**

```bash
pnpm --filter klard-web exec tsc --noEmit
```

Expected: No TypeScript errors

**Step 3: Commit Web implementation**

```bash
git add klard-web/src/components/ui/progress-bar.tsx klard-web/src/components/ui/progress.tsx klard-web/src/components/ui/index.ts klard-web/src/__tests__/components/ui/progress-bar.test.tsx
git commit -m "feat(web): add ProgressBar component with TDD

- Add ProgressBar component using Radix UI Progress
- Support sm/md/lg sizes and default/success/warning/error variants
- Optional label and percentage display
- Animated transitions
- Comprehensive test coverage"
```

---

# PART 2: MOBILE IMPLEMENTATION

## Task 7: Write Failing Tests for Mobile ProgressBar Rendering

**Files:**
- Create: `klard-mobile/src/__tests__/components/ui/ProgressBar.test.tsx`

**Step 1: Create test file with rendering tests**

```tsx
/**
 * Tests for ProgressBar Component (Mobile)
 *
 * TDD: Write failing tests first, then implement to pass.
 */

import React from 'react';
import { render, screen } from '@testing-library/react-native';
import { ProgressBar } from '@/components/ui/ProgressBar';

// Mock hooks
jest.mock('@/hooks', () => ({
  useThemeColors: () => ({
    primary: '#0D7C7A',
    accentSuccess: '#059669',
    accentWarning: '#D97706',
    accentError: '#DC2626',
    muted: '#E2E8F0',
    textSecondary: '#64748B',
  }),
}));

describe('ProgressBar', () => {
  describe('Rendering', () => {
    it('should render progress bar container', () => {
      render(<ProgressBar value={50} />);

      expect(screen.getByTestId('progress-bar-container')).toBeTruthy();
    });

    it('should render progress track', () => {
      render(<ProgressBar value={50} />);

      expect(screen.getByTestId('progress-track')).toBeTruthy();
    });

    it('should render progress fill', () => {
      render(<ProgressBar value={50} />);

      expect(screen.getByTestId('progress-fill')).toBeTruthy();
    });

    it('should have progressbar accessibility role', () => {
      render(<ProgressBar value={50} />);

      const container = screen.getByTestId('progress-bar-container');
      expect(container.props.accessibilityRole).toBe('progressbar');
    });
  });
});
```

**Step 2: Run tests to verify they fail**

```bash
cd /Users/drcraig/Desktop/PersonalProjects/klard-apps
pnpm --filter klard-mobile test src/__tests__/components/ui/ProgressBar.test.tsx --run
```

Expected: FAIL - ProgressBar component doesn't exist

---

## Task 8: Write Failing Tests for Mobile Size Variants

**Files:**
- Modify: `klard-mobile/src/__tests__/components/ui/ProgressBar.test.tsx`

**Step 1: Add size tests**

```tsx
  describe('Sizes', () => {
    it('should apply sm height (4px)', () => {
      render(<ProgressBar value={50} size="sm" />);

      const track = screen.getByTestId('progress-track');
      expect(track.props.style).toMatchObject({ height: 4 });
    });

    it('should apply md height by default (8px)', () => {
      render(<ProgressBar value={50} />);

      const track = screen.getByTestId('progress-track');
      expect(track.props.style).toMatchObject({ height: 8 });
    });

    it('should apply lg height (12px)', () => {
      render(<ProgressBar value={50} size="lg" />);

      const track = screen.getByTestId('progress-track');
      expect(track.props.style).toMatchObject({ height: 12 });
    });
  });
```

**Step 2: Run tests to verify they fail**

```bash
pnpm --filter klard-mobile test src/__tests__/components/ui/ProgressBar.test.tsx --run
```

Expected: FAIL - Size prop not implemented

---

## Task 9: Write Failing Tests for Mobile Labels and Accessibility

**Files:**
- Modify: `klard-mobile/src/__tests__/components/ui/ProgressBar.test.tsx`

**Step 1: Add label and accessibility tests**

```tsx
  describe('Labels', () => {
    it('should display percentage when showLabel is true', () => {
      render(<ProgressBar value={75} showLabel />);

      expect(screen.getByText('75%')).toBeTruthy();
    });

    it('should display custom label when provided', () => {
      render(<ProgressBar value={50} label="Loading..." />);

      expect(screen.getByText('Loading...')).toBeTruthy();
    });

    it('should display both label and percentage', () => {
      render(<ProgressBar value={50} label="Progress" showLabel />);

      expect(screen.getByText('Progress')).toBeTruthy();
      expect(screen.getByText('50%')).toBeTruthy();
    });
  });

  describe('Accessibility', () => {
    it('should have correct accessibility value', () => {
      render(<ProgressBar value={75} />);

      const container = screen.getByTestId('progress-bar-container');
      expect(container.props.accessibilityValue).toEqual({
        now: 75,
        min: 0,
        max: 100,
      });
    });

    it('should respect custom max value in accessibility', () => {
      render(<ProgressBar value={25} max={50} />);

      const container = screen.getByTestId('progress-bar-container');
      expect(container.props.accessibilityValue).toEqual({
        now: 50, // 25/50 = 50%
        min: 0,
        max: 100,
      });
    });
  });
```

**Step 2: Run all tests to verify they fail**

```bash
pnpm --filter klard-mobile test src/__tests__/components/ui/ProgressBar.test.tsx --run
```

Expected: Multiple FAIL

---

## Task 10: Implement Mobile ProgressBar Component

**Files:**
- Create: `klard-mobile/src/components/ui/ProgressBar/ProgressBar.tsx`
- Create: `klard-mobile/src/components/ui/ProgressBar/progress-bar.styles.ts`
- Create: `klard-mobile/src/components/ui/ProgressBar/index.ts`

**Step 1: Create styles file**

```typescript
// klard-mobile/src/components/ui/ProgressBar/progress-bar.styles.ts
import { StyleSheet } from 'react-native';

export const styles = StyleSheet.create({
  container: {
    gap: 4,
  },
  labelRow: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
  },
  label: {
    fontSize: 14,
    fontWeight: '400',
  },
  percentage: {
    fontSize: 14,
    fontWeight: '400',
    fontVariant: ['tabular-nums'],
  },
  track: {
    width: '100%',
    borderRadius: 999,
    overflow: 'hidden',
  },
  fill: {
    height: '100%',
    borderRadius: 999,
  },
});
```

**Step 2: Create ProgressBar component**

```typescript
// klard-mobile/src/components/ui/ProgressBar/ProgressBar.tsx
import { useEffect, useRef } from 'react';
import { View, Text, Animated, type StyleProp, type ViewStyle } from 'react-native';
import { useThemeColors } from '@/hooks';
import { styles } from './progress-bar.styles';

const sizeMap = {
  sm: 4,
  md: 8,
  lg: 12,
} as const;

export type ProgressBarSize = keyof typeof sizeMap;
export type ProgressBarVariant = 'default' | 'success' | 'warning' | 'error';

export interface ProgressBarProps {
  value: number;
  max?: number;
  variant?: ProgressBarVariant;
  size?: ProgressBarSize;
  showLabel?: boolean;
  label?: string;
  animated?: boolean;
  style?: StyleProp<ViewStyle>;
}

export function ProgressBar({
  value,
  max = 100,
  variant = 'default',
  size = 'md',
  showLabel = false,
  label,
  animated = true,
  style,
}: ProgressBarProps) {
  const colors = useThemeColors();
  const animatedWidth = useRef(new Animated.Value(0)).current;

  const percentage = Math.min(Math.max((value / max) * 100, 0), 100);
  const height = sizeMap[size];

  const variantColors: Record<ProgressBarVariant, string> = {
    default: colors.primary,
    success: colors.accentSuccess,
    warning: colors.accentWarning,
    error: colors.accentError,
  };

  useEffect(() => {
    if (animated) {
      Animated.timing(animatedWidth, {
        toValue: percentage,
        duration: 300,
        useNativeDriver: false,
      }).start();
    } else {
      animatedWidth.setValue(percentage);
    }
  }, [percentage, animated, animatedWidth]);

  return (
    <View
      testID="progress-bar-container"
      accessibilityRole="progressbar"
      accessibilityValue={{ now: percentage, min: 0, max: 100 }}
      style={[styles.container, style]}
    >
      {(showLabel || label) && (
        <View style={styles.labelRow}>
          {label && (
            <Text style={[styles.label, { color: colors.textSecondary }]}>
              {label}
            </Text>
          )}
          {showLabel && (
            <Text style={[styles.percentage, { color: colors.textSecondary }]}>
              {Math.round(percentage)}%
            </Text>
          )}
        </View>
      )}
      <View
        testID="progress-track"
        style={[styles.track, { height, backgroundColor: colors.muted }]}
      >
        <Animated.View
          testID="progress-fill"
          style={[
            styles.fill,
            {
              backgroundColor: variantColors[variant],
              width: animatedWidth.interpolate({
                inputRange: [0, 100],
                outputRange: ['0%', '100%'],
              }),
            },
          ]}
        />
      </View>
    </View>
  );
}
```

**Step 3: Create index file**

```typescript
// klard-mobile/src/components/ui/ProgressBar/index.ts
export { ProgressBar, type ProgressBarProps, type ProgressBarSize, type ProgressBarVariant } from './ProgressBar';
```

**Step 4: Run tests to verify they pass**

```bash
pnpm --filter klard-mobile test src/__tests__/components/ui/ProgressBar.test.tsx --run
```

Expected: All tests PASS

---

## Task 11: Export Mobile ProgressBar from Index

**Files:**
- Modify: `klard-mobile/src/components/ui/index.ts`

**Step 1: Add ProgressBar export**

Add this line to the exports:

```typescript
export { ProgressBar, type ProgressBarProps, type ProgressBarSize, type ProgressBarVariant } from './ProgressBar';
```

**Step 2: Verify TypeScript compiles**

```bash
pnpm --filter klard-mobile exec tsc --noEmit
```

Expected: No TypeScript errors

**Step 3: Commit Mobile implementation**

```bash
git add klard-mobile/src/components/ui/ProgressBar/ klard-mobile/src/components/ui/index.ts klard-mobile/src/__tests__/components/ui/ProgressBar.test.tsx
git commit -m "feat(mobile): add ProgressBar component with TDD

- Add ProgressBar component using Animated API
- Support sm/md/lg sizes and default/success/warning/error variants
- Optional label and percentage display
- Smooth animated transitions
- Comprehensive test coverage"
```

---

# PART 3: VERIFICATION & COMPLETION

## Task 12: Run Full Test Suite

**Step 1: Run all web tests**

```bash
pnpm --filter klard-web test --run
```

Expected: All tests PASS

**Step 2: Run all mobile tests**

```bash
pnpm --filter klard-mobile test --run
```

Expected: All tests PASS

**Step 3: Run TypeScript check on both**

```bash
pnpm --filter klard-web exec tsc --noEmit && pnpm --filter klard-mobile exec tsc --noEmit
```

Expected: No TypeScript errors

---

## Task 13: Verification Checklist

Complete this checklist before marking component as DONE:

**Web ProgressBar:**
- [ ] Component renders without errors
- [ ] All 3 sizes functional (sm, md, lg)
- [ ] All 4 variants functional (default, success, warning, error)
- [ ] Label displays when provided
- [ ] Percentage displays when showLabel is true
- [ ] Animation works when animated is true
- [ ] Custom className merges correctly
- [ ] Accessibility: role, aria-valuenow/min/max
- [ ] TypeScript compiles with no errors
- [ ] All tests passing
- [ ] Exported from index.ts

**Mobile ProgressBar:**
- [ ] Component renders without errors
- [ ] All 3 sizes functional (sm, md, lg)
- [ ] All 4 variants functional (default, success, warning, error)
- [ ] Label displays when provided
- [ ] Percentage displays when showLabel is true
- [ ] Animation works with Animated API
- [ ] Accessibility: role and value set
- [ ] TypeScript compiles with no errors
- [ ] All tests passing
- [ ] Exported from index.ts

---

## Task 14: Mark Component as DONE

**Files:**
- Modify: `docs/screens/batch/Klard_Component_Specifications.md`

**Step 1: Update spec marker**

Replace:
```
<!-- IN-PROGRESS:1.9-progress-bar -->
```

With:
```
<!-- DONE:1.9-progress-bar -->
```

**Step 2: Final commit**

```bash
git add docs/screens/batch/Klard_Component_Specifications.md
git commit -m "docs: mark 1.9-progress-bar component as DONE"
```

---

## Summary

| Task | Platform | Description |
|------|----------|-------------|
| 1 | Web | Install shadcn/ui progress |
| 2-4 | Web | Write failing tests (TDD RED phase) |
| 5 | Web | Implement ProgressBar component (TDD GREEN phase) |
| 6 | Web | Export from index.ts |
| 7-9 | Mobile | Write failing tests (TDD RED phase) |
| 10 | Mobile | Implement ProgressBar component (TDD GREEN phase) |
| 11 | Mobile | Export from index.ts |
| 12 | Both | Run full test suite |
| 13 | Both | Verification checklist |
| 14 | Docs | Mark component as DONE |

**Total Tasks:** 14
**Estimated Time:** 30-45 minutes

---

## File Structure

### Web
```
klard-web/src/
├── components/ui/
│   ├── progress.tsx         # shadcn base (from CLI)
│   ├── progress-bar.tsx     # Klard component
│   └── index.ts             # Export added
└── __tests__/components/ui/
    └── progress-bar.test.tsx # Test file
```

### Mobile
```
klard-mobile/src/
├── components/ui/
│   ├── ProgressBar/
│   │   ├── ProgressBar.tsx       # Component
│   │   ├── progress-bar.styles.ts # Styles
│   │   └── index.ts              # Barrel export
│   └── index.ts                  # Export added
└── __tests__/components/ui/
    └── ProgressBar.test.tsx      # Test file
```

---

## Execution Options

**Plan complete and saved to `docs/screens/comp-plan/1.9-progress-bar-implementation-plan.md`.**

**Two execution options:**

1. **Subagent-Driven (this session)** - Dispatch fresh subagent per task, review between tasks, fast iteration

2. **Parallel Session (separate)** - Open new session with executing-plans, batch execution with checkpoints

**Which approach?**