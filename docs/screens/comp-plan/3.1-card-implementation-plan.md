# 3.1 Card Implementation Plan

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** Build a production-ready Card component for both Web (Next.js + CVA) and Mobile (React Native + Expo) platforms with full TDD coverage.

**Architecture:** Web creates a KlardCard wrapper component using CVA (class-variance-authority) for variant styling, extending the existing shadcn Card pattern while preserving current data-slot structure. Mobile creates a Card component using View/Pressable with StyleSheet. Both support variants (default, elevated, ghost, interactive), padding options, and optional press handling.

**Tech Stack:**
- Web: Next.js 16, React 19, TypeScript strict, Tailwind CSS 4, class-variance-authority
- Mobile: React Native, Expo SDK 54, TypeScript strict, expo-haptics

---

## Pre-Implementation Checklist

Before starting, verify these skills are loaded:
- [ ] `superpowers:test-driven-development` - TDD workflow
- [ ] `superpowers:testing-anti-patterns` - Avoid common test mistakes
- [ ] `solid-design-principles` - SOLID compliance

---

## Component Specification

### Props Interface

```typescript
// Web
interface KlardCardProps {
  variant?: 'default' | 'elevated' | 'ghost' | 'interactive';
  padding?: 'none' | 'sm' | 'md' | 'lg';
  children: React.ReactNode;
  onPress?: () => void;
  disabled?: boolean;
  className?: string;
}

// Mobile
interface CardProps {
  variant?: 'default' | 'elevated' | 'ghost' | 'interactive';
  padding?: 'none' | 'sm' | 'md' | 'lg';
  children: React.ReactNode;
  onPress?: () => void;
  disabled?: boolean;
  style?: StyleProp<ViewStyle>;
  testID?: string;
}
```

### Variant Mapping

| Variant | Web Classes | Mobile Style | Color Tokens |
|---------|-------------|--------------|--------------|
| default | `border border-slate-200` | `borderWidth: 1, borderColor: #E2E8F0` | border-border |
| elevated | `shadow-md border-0` | `elevation: 4, shadowOpacity: 0.1` | shadow-sm |
| ghost | `bg-transparent border-0` | `backgroundColor: transparent` | - |
| interactive | `border hover:border-teal-500 hover:shadow-md cursor-pointer` | `pressable with scale feedback` | #15B5B0 (teal) on hover |

### Padding Mapping

| Padding | Web (Tailwind) | Mobile (px) |
|---------|----------------|-------------|
| none | p-0 | 0 |
| sm | p-3 (12px) | 12 |
| md | p-4 (16px) | 16 |
| lg | p-6 (24px) | 24 |

---

## SOLID Compliance

| Principle | Implementation |
|-----------|----------------|
| **SRP** | Card only renders container - content passed via children |
| **OCP** | Variants via CVA config (web) or style objects (mobile) |
| **LSP** | All variant/padding combinations produce valid cards |
| **ISP** | Minimal interface with only necessary props |
| **DIP** | Components depend on abstract variant/padding types |

---

## Dependencies

### Web
- `class-variance-authority` - Variant management (already installed via shadcn)
- `@/lib/utils` - cn utility (already exists)

### Mobile
- `expo-haptics` - Haptic feedback (already installed)
- No additional dependencies needed

---

# PART 1: WEB IMPLEMENTATION

## Task 1: Write Failing Tests for KlardCard Rendering

**Files:**
- Create: `klard-web/src/__tests__/components/ui/klard-card.test.tsx`

**Step 1: Create test file with rendering tests**

```tsx
/**
 * Tests for KlardCard Component
 *
 * TDD: Write failing tests first, then implement to pass.
 * Tests verify: rendering, variants, padding, interaction, accessibility
 */

import { describe, it, expect } from 'vitest';
import { render, screen, fireEvent } from '@testing-library/react';
import { KlardCard } from '@/components/ui/klard-card';

describe('KlardCard', () => {
  describe('Rendering', () => {
    it('should render card with children', () => {
      render(<KlardCard>Card Content</KlardCard>);

      expect(screen.getByText('Card Content')).toBeInTheDocument();
    });

    it('should render as div by default', () => {
      render(<KlardCard data-testid="card">Content</KlardCard>);

      const card = screen.getByTestId('card');
      expect(card.tagName).toBe('DIV');
    });

    it('should have data-slot attribute for styling', () => {
      render(<KlardCard data-testid="card">Content</KlardCard>);

      expect(screen.getByTestId('card')).toHaveAttribute('data-slot', 'klard-card');
    });
  });
});
```

**Step 2: Run tests to verify they fail**

```bash
cd /Users/drcraig/Desktop/PersonalProjects/klard-apps
pnpm --filter klard-web test src/__tests__/components/ui/klard-card.test.tsx --run
```

Expected: FAIL - KlardCard component doesn't exist

---

## Task 2: Write Failing Tests for Variants

**Files:**
- Modify: `klard-web/src/__tests__/components/ui/klard-card.test.tsx`

**Step 1: Add variant tests**

```tsx
  describe('Variants', () => {
    it('should apply default variant classes (border)', () => {
      const { container } = render(<KlardCard data-testid="card">Content</KlardCard>);

      const card = screen.getByTestId('card');
      expect(card.className).toContain('border');
    });

    it('should apply elevated variant classes (shadow-md)', () => {
      render(<KlardCard variant="elevated" data-testid="card">Content</KlardCard>);

      const card = screen.getByTestId('card');
      expect(card.className).toContain('shadow-md');
    });

    it('should apply ghost variant classes (bg-transparent)', () => {
      render(<KlardCard variant="ghost" data-testid="card">Content</KlardCard>);

      const card = screen.getByTestId('card');
      expect(card.className).toContain('bg-transparent');
    });

    it('should apply interactive variant classes (cursor-pointer)', () => {
      render(<KlardCard variant="interactive" data-testid="card">Content</KlardCard>);

      const card = screen.getByTestId('card');
      expect(card.className).toContain('cursor-pointer');
    });
  });
```

**Step 2: Run tests to verify they fail**

```bash
pnpm --filter klard-web test src/__tests__/components/ui/klard-card.test.tsx --run
```

Expected: FAIL - Variant prop not implemented

---

## Task 3: Write Failing Tests for Padding and Interaction

**Files:**
- Modify: `klard-web/src/__tests__/components/ui/klard-card.test.tsx`

**Step 1: Add padding and interaction tests**

```tsx
  describe('Padding', () => {
    it('should apply md padding by default (p-4)', () => {
      render(<KlardCard data-testid="card">Content</KlardCard>);

      const card = screen.getByTestId('card');
      expect(card.className).toContain('p-4');
    });

    it('should apply none padding (p-0)', () => {
      render(<KlardCard padding="none" data-testid="card">Content</KlardCard>);

      const card = screen.getByTestId('card');
      expect(card.className).toContain('p-0');
    });

    it('should apply sm padding (p-3)', () => {
      render(<KlardCard padding="sm" data-testid="card">Content</KlardCard>);

      const card = screen.getByTestId('card');
      expect(card.className).toContain('p-3');
    });

    it('should apply lg padding (p-6)', () => {
      render(<KlardCard padding="lg" data-testid="card">Content</KlardCard>);

      const card = screen.getByTestId('card');
      expect(card.className).toContain('p-6');
    });
  });

  describe('Interactive Behavior', () => {
    it('should render as button when onPress is provided', () => {
      const handlePress = vi.fn();
      render(<KlardCard onPress={handlePress} data-testid="card">Clickable</KlardCard>);

      const card = screen.getByTestId('card');
      expect(card.tagName).toBe('BUTTON');
    });

    it('should call onPress when clicked', () => {
      const handlePress = vi.fn();
      render(<KlardCard onPress={handlePress} data-testid="card">Clickable</KlardCard>);

      fireEvent.click(screen.getByTestId('card'));
      expect(handlePress).toHaveBeenCalledTimes(1);
    });

    it('should not call onPress when disabled', () => {
      const handlePress = vi.fn();
      render(<KlardCard onPress={handlePress} disabled data-testid="card">Disabled</KlardCard>);

      fireEvent.click(screen.getByTestId('card'));
      expect(handlePress).not.toHaveBeenCalled();
    });

    it('should apply disabled styles when disabled', () => {
      render(<KlardCard onPress={() => {}} disabled data-testid="card">Disabled</KlardCard>);

      const card = screen.getByTestId('card');
      expect(card).toBeDisabled();
      expect(card.className).toContain('opacity-50');
    });
  });

  describe('Custom className', () => {
    it('should merge custom className with base styles', () => {
      render(<KlardCard className="custom-class" data-testid="card">Content</KlardCard>);

      const card = screen.getByTestId('card');
      expect(card.className).toContain('custom-class');
      expect(card.className).toContain('rounded-xl');
    });
  });

  describe('Accessibility', () => {
    it('should be focusable when interactive', () => {
      render(<KlardCard onPress={() => {}} data-testid="card">Interactive</KlardCard>);

      const card = screen.getByTestId('card');
      card.focus();
      expect(card).toHaveFocus();
    });
  });
```

**Step 2: Run all tests to verify they fail**

```bash
pnpm --filter klard-web test src/__tests__/components/ui/klard-card.test.tsx --run
```

Expected: Multiple FAIL

---

## Task 4: Implement KlardCard Component

**Files:**
- Create: `klard-web/src/components/ui/klard-card.tsx`

**Step 1: Create the KlardCard component**

```tsx
import * as React from 'react';
import { cva, type VariantProps } from 'class-variance-authority';
import { cn } from '@/lib/utils';

const klardCardVariants = cva(
  'flex flex-col rounded-xl bg-card text-card-foreground transition-all',
  {
    variants: {
      variant: {
        default: 'border border-slate-200 dark:border-slate-800',
        elevated: 'shadow-md border-0',
        ghost: 'border-0 bg-transparent',
        interactive:
          'border border-slate-200 dark:border-slate-800 hover:border-teal-500 hover:shadow-md cursor-pointer',
      },
      padding: {
        none: 'p-0',
        sm: 'p-3',
        md: 'p-4',
        lg: 'p-6',
      },
    },
    defaultVariants: {
      variant: 'default',
      padding: 'md',
    },
  }
);

export type KlardCardVariant = 'default' | 'elevated' | 'ghost' | 'interactive';
export type KlardCardPadding = 'none' | 'sm' | 'md' | 'lg';

export interface KlardCardProps
  extends Omit<React.HTMLAttributes<HTMLDivElement>, 'onClick'>,
    VariantProps<typeof klardCardVariants> {
  onPress?: () => void;
  disabled?: boolean;
}

function KlardCard({
  className,
  variant,
  padding,
  onPress,
  disabled = false,
  children,
  ...props
}: KlardCardProps) {
  const Component = onPress ? 'button' : 'div';

  return (
    <Component
      data-slot="klard-card"
      className={cn(
        klardCardVariants({ variant, padding }),
        disabled && 'opacity-50 cursor-not-allowed',
        className
      )}
      onClick={onPress}
      disabled={onPress ? disabled : undefined}
      type={onPress ? 'button' : undefined}
      {...(props as React.ComponentProps<typeof Component>)}
    >
      {children}
    </Component>
  );
}

export { KlardCard, klardCardVariants };
```

**Step 2: Run tests to verify they pass**

```bash
pnpm --filter klard-web test src/__tests__/components/ui/klard-card.test.tsx --run
```

Expected: All tests PASS

---

## Task 5: Export KlardCard from Index

**Files:**
- Modify: `klard-web/src/components/ui/index.ts`

**Step 1: Add KlardCard export**

Add this line to the exports:

```typescript
export { KlardCard, klardCardVariants, type KlardCardProps, type KlardCardVariant, type KlardCardPadding } from './klard-card';
```

**Step 2: Verify TypeScript compiles**

```bash
pnpm --filter klard-web exec tsc --noEmit
```

Expected: No TypeScript errors

**Step 3: Commit Web implementation**

```bash
git add klard-web/src/components/ui/klard-card.tsx klard-web/src/components/ui/index.ts klard-web/src/__tests__/components/ui/klard-card.test.tsx
git commit -m "feat(web): add KlardCard component with TDD

- Add KlardCard component using CVA for variants
- Support default/elevated/ghost/interactive variants
- Support none/sm/md/lg padding options
- Optional onPress handler converts to button
- Comprehensive test coverage"
```

---

# PART 2: MOBILE IMPLEMENTATION

## Task 6: Write Failing Tests for Mobile Card Rendering

**Files:**
- Create: `klard-mobile/src/__tests__/components/ui/Card.test.tsx`

**Step 1: Create test file with rendering tests**

```tsx
/**
 * Tests for Card Component (Mobile)
 *
 * TDD: Write failing tests first, then implement to pass.
 */

import React from 'react';
import { render, screen, fireEvent, waitFor } from '@testing-library/react-native';
import { Text } from 'react-native';
import { Card } from '@/components/ui/Card';
import * as Haptics from 'expo-haptics';

// Mock expo-haptics
jest.mock('expo-haptics', () => ({
  impactAsync: jest.fn(),
  ImpactFeedbackStyle: {
    Light: 'light',
    Medium: 'medium',
    Heavy: 'heavy',
  },
}));

describe('Card', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });

  describe('Rendering', () => {
    it('should render card with children', () => {
      render(
        <Card>
          <Text>Card Content</Text>
        </Card>
      );

      expect(screen.getByText('Card Content')).toBeTruthy();
    });

    it('should render with testID', () => {
      render(
        <Card testID="card">
          <Text>Content</Text>
        </Card>
      );

      expect(screen.getByTestId('card')).toBeTruthy();
    });

    it('should have accessibility role none by default', () => {
      render(
        <Card testID="card">
          <Text>Content</Text>
        </Card>
      );

      const card = screen.getByTestId('card');
      expect(card.props.accessibilityRole).toBe('none');
    });
  });
});
```

**Step 2: Run tests to verify they fail**

```bash
cd /Users/drcraig/Desktop/PersonalProjects/klard-apps
pnpm --filter klard-mobile test src/__tests__/components/ui/Card.test.tsx --run
```

Expected: FAIL - Card component doesn't exist

---

## Task 7: Write Failing Tests for Mobile Variants and Padding

**Files:**
- Modify: `klard-mobile/src/__tests__/components/ui/Card.test.tsx`

**Step 1: Add variant and padding tests**

```tsx
  describe('Variants', () => {
    const variants = ['default', 'elevated', 'ghost', 'interactive'] as const;

    variants.forEach((variant) => {
      it(`should render ${variant} variant without error`, () => {
        render(
          <Card variant={variant} testID="card">
            <Text>{variant}</Text>
          </Card>
        );

        expect(screen.getByText(variant)).toBeTruthy();
      });
    });

    it('should apply default variant when none specified', () => {
      render(
        <Card testID="card">
          <Text>Default</Text>
        </Card>
      );

      expect(screen.getByTestId('card')).toBeTruthy();
    });

    it('should apply elevated variant style with shadow', () => {
      render(
        <Card variant="elevated" testID="card">
          <Text>Elevated</Text>
        </Card>
      );

      const card = screen.getByTestId('card');
      const style = Array.isArray(card.props.style)
        ? card.props.style.flat()
        : [card.props.style];
      expect(style).toEqual(
        expect.arrayContaining([expect.objectContaining({ shadowOpacity: expect.any(Number) })])
      );
    });
  });

  describe('Padding', () => {
    const paddings = ['none', 'sm', 'md', 'lg'] as const;
    const paddingValues = { none: 0, sm: 12, md: 16, lg: 24 };

    paddings.forEach((padding) => {
      it(`should render with ${padding} padding (${paddingValues[padding]}px)`, () => {
        render(
          <Card padding={padding} testID="card">
            <Text>Content</Text>
          </Card>
        );

        const card = screen.getByTestId('card');
        const style = Array.isArray(card.props.style)
          ? card.props.style.flat()
          : [card.props.style];
        expect(style).toEqual(
          expect.arrayContaining([expect.objectContaining({ padding: paddingValues[padding] })])
        );
      });
    });
  });
```

**Step 2: Run tests to verify they fail**

```bash
pnpm --filter klard-mobile test src/__tests__/components/ui/Card.test.tsx --run
```

Expected: FAIL - Variant and padding props not implemented

---

## Task 8: Write Failing Tests for Mobile Interaction

**Files:**
- Modify: `klard-mobile/src/__tests__/components/ui/Card.test.tsx`

**Step 1: Add interaction tests**

```tsx
  describe('Interactive Behavior', () => {
    it('should have button accessibility role when onPress is provided', () => {
      const handlePress = jest.fn();
      render(
        <Card onPress={handlePress} testID="card">
          <Text>Pressable</Text>
        </Card>
      );

      const card = screen.getByTestId('card');
      expect(card.props.accessibilityRole).toBe('button');
    });

    it('should call onPress when pressed', () => {
      const handlePress = jest.fn();
      render(
        <Card onPress={handlePress} testID="card">
          <Text>Pressable</Text>
        </Card>
      );

      fireEvent.press(screen.getByTestId('card'));
      expect(handlePress).toHaveBeenCalledTimes(1);
    });

    it('should trigger haptic feedback when pressed', async () => {
      const handlePress = jest.fn();
      render(
        <Card onPress={handlePress} testID="card">
          <Text>Pressable</Text>
        </Card>
      );

      fireEvent.press(screen.getByTestId('card'));

      await waitFor(() => {
        expect(Haptics.impactAsync).toHaveBeenCalledWith(
          Haptics.ImpactFeedbackStyle.Light
        );
      });
    });

    it('should not call onPress when disabled', () => {
      const handlePress = jest.fn();
      render(
        <Card onPress={handlePress} disabled testID="card">
          <Text>Disabled</Text>
        </Card>
      );

      fireEvent.press(screen.getByTestId('card'));
      expect(handlePress).not.toHaveBeenCalled();
    });

    it('should have disabled accessibility state when disabled', () => {
      render(
        <Card onPress={() => {}} disabled testID="card">
          <Text>Disabled</Text>
        </Card>
      );

      const card = screen.getByTestId('card');
      expect(card.props.accessibilityState?.disabled).toBe(true);
    });
  });

  describe('Custom Style', () => {
    it('should merge custom style with base styles', () => {
      render(
        <Card style={{ marginTop: 20 }} testID="card">
          <Text>Content</Text>
        </Card>
      );

      expect(screen.getByTestId('card')).toBeTruthy();
    });
  });
```

**Step 2: Run all tests to verify they fail**

```bash
pnpm --filter klard-mobile test src/__tests__/components/ui/Card.test.tsx --run
```

Expected: Multiple FAIL

---

## Task 9: Implement Mobile Card Component

**Files:**
- Create: `klard-mobile/src/components/ui/Card.tsx`

**Step 1: Create the Card component**

```tsx
import React from 'react';
import {
  View,
  Pressable,
  StyleSheet,
  type ViewStyle,
  type StyleProp,
} from 'react-native';
import * as Haptics from 'expo-haptics';

export type CardVariant = 'default' | 'elevated' | 'ghost' | 'interactive';
export type CardPadding = 'none' | 'sm' | 'md' | 'lg';

export interface CardProps {
  variant?: CardVariant;
  padding?: CardPadding;
  children: React.ReactNode;
  onPress?: () => void;
  disabled?: boolean;
  style?: StyleProp<ViewStyle>;
  testID?: string;
}

export function Card({
  variant = 'default',
  padding = 'md',
  children,
  onPress,
  disabled = false,
  style,
  testID,
}: CardProps) {
  const handlePress = async () => {
    if (disabled || !onPress) return;
    await Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light);
    onPress();
  };

  const cardStyle = [
    styles.base,
    variantStyles[variant],
    paddingStyles[padding],
    disabled && styles.disabled,
    style,
  ];

  if (onPress) {
    return (
      <Pressable
        onPress={handlePress}
        disabled={disabled}
        style={({ pressed }) => [
          ...cardStyle,
          pressed && !disabled && styles.pressed,
        ]}
        testID={testID}
        accessibilityRole="button"
        accessibilityState={{ disabled }}
      >
        {children}
      </Pressable>
    );
  }

  return (
    <View style={cardStyle} testID={testID} accessibilityRole="none">
      {children}
    </View>
  );
}

const styles = StyleSheet.create({
  base: {
    borderRadius: 12,
    backgroundColor: '#FFFFFF',
  },
  disabled: {
    opacity: 0.5,
  },
  pressed: {
    opacity: 0.8,
    transform: [{ scale: 0.98 }],
  },
});

const variantStyles = StyleSheet.create({
  default: {
    borderWidth: 1,
    borderColor: '#E2E8F0', // slate-200
  },
  elevated: {
    borderWidth: 0,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 4 },
    shadowOpacity: 0.1,
    shadowRadius: 6,
    elevation: 4,
  },
  ghost: {
    borderWidth: 0,
    backgroundColor: 'transparent',
  },
  interactive: {
    borderWidth: 1,
    borderColor: '#E2E8F0', // slate-200, hover changes to #15B5B0 (teal)
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.05,
    shadowRadius: 3,
    elevation: 2,
  },
});

const paddingStyles = StyleSheet.create({
  none: {
    padding: 0,
  },
  sm: {
    padding: 12,
  },
  md: {
    padding: 16,
  },
  lg: {
    padding: 24,
  },
});
```

**Step 2: Run tests to verify they pass**

```bash
pnpm --filter klard-mobile test src/__tests__/components/ui/Card.test.tsx --run
```

Expected: All tests PASS

---

## Task 10: Export Mobile Card from Index

**Files:**
- Modify: `klard-mobile/src/components/ui/index.ts`

**Step 1: Add Card export**

Add this line to the exports:

```typescript
export { Card, type CardProps, type CardVariant, type CardPadding } from './Card';
```

**Step 2: Verify TypeScript compiles**

```bash
pnpm --filter klard-mobile exec tsc --noEmit
```

Expected: No TypeScript errors

**Step 3: Commit Mobile implementation**

```bash
git add klard-mobile/src/components/ui/Card.tsx klard-mobile/src/components/ui/index.ts klard-mobile/src/__tests__/components/ui/Card.test.tsx
git commit -m "feat(mobile): add Card component with TDD

- Add Card component using View/Pressable
- Support default/elevated/ghost/interactive variants
- Support none/sm/md/lg padding options
- Haptic feedback on press
- Comprehensive test coverage"
```

---

# PART 3: VERIFICATION & COMPLETION

## Task 11: Run Full Test Suite

**Step 1: Run all web tests**

```bash
pnpm --filter klard-web test --run
```

Expected: All tests PASS

**Step 2: Run all mobile tests**

```bash
pnpm --filter klard-mobile test --run
```

Expected: All tests PASS

**Step 3: Run TypeScript check on both**

```bash
pnpm --filter klard-web exec tsc --noEmit && pnpm --filter klard-mobile exec tsc --noEmit
```

Expected: No TypeScript errors

---

## Task 12: Verification Checklist

Complete this checklist before marking component as DONE:

**Web KlardCard:**
- [ ] Component renders without errors
- [ ] All 4 variants functional (default, elevated, ghost, interactive)
- [ ] All 4 padding options functional (none, sm, md, lg)
- [ ] Renders as div by default
- [ ] Renders as button when onPress provided
- [ ] onPress handler works
- [ ] Disabled state prevents interaction
- [ ] Custom className merges correctly
- [ ] data-slot attribute present
- [ ] TypeScript compiles with no errors
- [ ] All tests passing
- [ ] Exported from index.ts

**Mobile Card:**
- [ ] Component renders without errors
- [ ] All 4 variants functional (default, elevated, ghost, interactive)
- [ ] All 4 padding options functional (none, sm, md, lg)
- [ ] Renders as View by default
- [ ] Renders as Pressable when onPress provided
- [ ] Haptic feedback on press
- [ ] Disabled state prevents interaction
- [ ] Accessibility role and state correct
- [ ] TypeScript compiles with no errors
- [ ] All tests passing
- [ ] Exported from index.ts

---

## Task 13: Mark Component as DONE

**Files:**
- Modify: `docs/screens/batch/Klard_Component_Specifications.md`

**Step 1: Update spec marker**

Replace:
```
<!-- IN-PROGRESS:3.1-card -->
```

With:
```
<!-- DONE:3.1-card -->
```

**Step 2: Final commit**

```bash
git add docs/screens/batch/Klard_Component_Specifications.md
git commit -m "docs: mark 3.1-card component as DONE"
```

---

## Summary

| Task | Platform | Description |
|------|----------|-------------|
| 1 | Web | Write failing tests - rendering |
| 2 | Web | Write failing tests - variants |
| 3 | Web | Write failing tests - padding, interaction |
| 4 | Web | Implement KlardCard component |
| 5 | Web | Export from index.ts |
| 6 | Mobile | Write failing tests - rendering |
| 7 | Mobile | Write failing tests - variants, padding |
| 8 | Mobile | Write failing tests - interaction |
| 9 | Mobile | Implement Card component |
| 10 | Mobile | Export from index.ts |
| 11 | Both | Run full test suite |
| 12 | Both | Verification checklist |
| 13 | Docs | Mark component as DONE |

**Total Tasks:** 13

---

## File Structure

### Web
```
klard-web/src/
├── components/ui/
│   ├── klard-card.tsx      # Klard component with CVA
│   └── index.ts            # Export added
└── __tests__/components/ui/
    └── klard-card.test.tsx # Test file
```

### Mobile
```
klard-mobile/src/
├── components/ui/
│   ├── Card.tsx            # Component
│   └── index.ts            # Export added
└── __tests__/components/ui/
    └── Card.test.tsx       # Test file
```

---

## Execution Options

**Plan complete and saved to `docs/screens/comp-plan/3.1-card-implementation-plan.md`.**

**Two execution options:**

1. **Subagent-Driven (this session)** - Dispatch fresh subagent per task, review between tasks, fast iteration

2. **Parallel Session (separate)** - Open new session with executing-plans, batch execution with checkpoints

**Which approach?**