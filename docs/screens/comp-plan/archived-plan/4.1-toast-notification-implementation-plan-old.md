# Toast / Notification Component Implementation Plan

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** Implement a cross-platform toast notification system using Sonner (web) and react-native-toast-message (mobile) with unified API and Klard design system styling.

**Architecture:** Wrapper components (`showToast` function + Toaster/Toast components) that provide a unified imperative API across platforms while leveraging battle-tested toast libraries. Web uses Sonner for rich features; mobile uses react-native-toast-message with custom Klard-themed layouts.

**Tech Stack:**
- Web: Sonner, Tailwind CSS, TypeScript
- Mobile: react-native-toast-message, expo-haptics, StyleSheet, TypeScript

---

## Summary

| Component | Platform | Library |
|-----------|----------|---------|
| `Toaster` | Web | sonner |
| `Toast` | Mobile | react-native-toast-message |
| `showToast()` | Both | Wrapper function |

## SOLID Compliance

| Component | SRP | OCP | LSP | ISP | DIP |
|-----------|-----|-----|-----|-----|-----|
| ToastProps | Single interface for toast config | N/A | N/A | Minimal props needed | Abstract type definition |
| showToast (web) | Displays toast only | Types via config | N/A | Single function | Depends on ToastProps abstraction |
| showToast (mobile) | Displays toast only | Types via config | N/A | Single function | Depends on ToastProps abstraction |
| Toaster (web) | Renders toast container | Position via props | N/A | Single component | Depends on Sonner abstraction |
| Toast (mobile) | Renders toast container | Config via props | N/A | Single component | Depends on library abstraction |

### Principle Applications

**SRP:** Each component has one responsibility - Toaster renders container, showToast displays messages
**OCP:** Toast types (success/error/warning/info) configurable without modifying base code
**LSP:** N/A - no inheritance hierarchy
**ISP:** ToastProps interface contains only what consumers need
**DIP:** Components depend on ToastProps abstraction, not concrete implementations

---

## Parallel Sub-Agent Strategy

The following tasks can be parallelized:
- **Group A (Independent):** Task 1 (Web types) + Task 5 (Mobile types)
- **Group B (After A):** Task 2 (Web tests) + Task 6 (Mobile tests)
- **Group C (After B):** Task 3 (Web impl) + Task 7 (Mobile impl)
- **Group D (After C):** Task 4 (Web Toaster) + Task 8 (Mobile Toast config)
- **Sequential:** Task 9 (exports), Task 10 (verification)

---

## Test Strategy (TDD)

All components follow RED-GREEN-REFACTOR:
1. Write failing test first
2. Verify test fails for expected reason
3. Implement minimal code to pass
4. Refactor while keeping tests green

---

## Tasks

### Task 1: Define Shared Toast Types (Web)

**Files:**
- Create: `klard-web/src/components/ui/toast.tsx`

**Step 1: Create type definitions**

```typescript
// klard-web/src/components/ui/toast.tsx
import { toast } from "sonner";

export type ToastType = "success" | "error" | "warning" | "info";

export interface ToastAction {
  label: string;
  onClick: () => void;
}

export interface ToastProps {
  type: ToastType;
  title: string;
  description?: string;
  duration?: number;
  action?: ToastAction;
}

// Implementation will be added in Task 3
```

**Step 2: Verify file created**

Run: `ls klard-web/src/components/ui/toast.tsx`
Expected: File exists

**Step 3: Commit**

```bash
git add klard-web/src/components/ui/toast.tsx
git commit -m "feat(web): add toast type definitions"
```

---

### Task 2: Write Web Toast Tests

**Files:**
- Create: `klard-web/src/__tests__/components/ui/toast.test.tsx`

**Step 1: Write the failing tests**

```typescript
// klard-web/src/__tests__/components/ui/toast.test.tsx
/**
 * Tests for Toast Component (Web)
 *
 * TDD: Write failing tests first, then implement to pass.
 * Tests verify: showToast function, toast types, descriptions, actions
 */

import { describe, it, expect, vi, beforeEach } from "vitest";
import { render, screen, fireEvent, waitFor } from "@testing-library/react";
import { Toaster } from "@/components/ui/sonner";
import { showToast } from "@/components/ui/toast";

// Mock sonner
vi.mock("sonner", () => ({
  toast: {
    success: vi.fn(),
    error: vi.fn(),
    warning: vi.fn(),
    info: vi.fn(),
  },
  Toaster: ({ children }: { children?: React.ReactNode }) => (
    <div data-testid="toaster">{children}</div>
  ),
}));

describe("Toast", () => {
  beforeEach(() => {
    vi.clearAllMocks();
  });

  describe("showToast function", () => {
    it("should call toast.success for success type", async () => {
      const { toast } = await import("sonner");

      showToast({
        type: "success",
        title: "Success!",
      });

      expect(toast.success).toHaveBeenCalledWith("Success!", expect.any(Object));
    });

    it("should call toast.error for error type", async () => {
      const { toast } = await import("sonner");

      showToast({
        type: "error",
        title: "Error occurred",
      });

      expect(toast.error).toHaveBeenCalledWith("Error occurred", expect.any(Object));
    });

    it("should call toast.warning for warning type", async () => {
      const { toast } = await import("sonner");

      showToast({
        type: "warning",
        title: "Warning",
      });

      expect(toast.warning).toHaveBeenCalledWith("Warning", expect.any(Object));
    });

    it("should call toast.info for info type", async () => {
      const { toast } = await import("sonner");

      showToast({
        type: "info",
        title: "Info",
      });

      expect(toast.info).toHaveBeenCalledWith("Info", expect.any(Object));
    });

    it("should pass description to toast options", async () => {
      const { toast } = await import("sonner");

      showToast({
        type: "success",
        title: "Title",
        description: "This is a description",
      });

      expect(toast.success).toHaveBeenCalledWith(
        "Title",
        expect.objectContaining({
          description: "This is a description",
        })
      );
    });

    it("should pass duration to toast options", async () => {
      const { toast } = await import("sonner");

      showToast({
        type: "success",
        title: "Title",
        duration: 5000,
      });

      expect(toast.success).toHaveBeenCalledWith(
        "Title",
        expect.objectContaining({
          duration: 5000,
        })
      );
    });

    it("should pass action to toast options when provided", async () => {
      const { toast } = await import("sonner");
      const handleClick = vi.fn();

      showToast({
        type: "success",
        title: "Title",
        action: {
          label: "Undo",
          onClick: handleClick,
        },
      });

      expect(toast.success).toHaveBeenCalledWith(
        "Title",
        expect.objectContaining({
          action: expect.objectContaining({
            label: "Undo",
            onClick: handleClick,
          }),
        })
      );
    });

    it("should use default duration when not specified", async () => {
      const { toast } = await import("sonner");

      showToast({
        type: "info",
        title: "Info",
      });

      // Default duration should not be explicitly set (let sonner handle it)
      expect(toast.info).toHaveBeenCalledWith(
        "Info",
        expect.not.objectContaining({
          duration: expect.any(Number),
        })
      );
    });
  });

  describe("Type exports", () => {
    it("should export ToastProps type", async () => {
      const { showToast } = await import("@/components/ui/toast");

      // Type check - this will fail compilation if types are wrong
      const props: Parameters<typeof showToast>[0] = {
        type: "success",
        title: "Test",
      };

      expect(props.type).toBe("success");
    });
  });
});
```

**Step 2: Run test to verify it fails**

Run: `pnpm --filter klard-web test src/__tests__/components/ui/toast.test.tsx --run`
Expected: FAIL with "showToast is not exported" or similar

**Step 3: Commit failing test**

```bash
git add klard-web/src/__tests__/components/ui/toast.test.tsx
git commit -m "test(web): add toast component tests (TDD red phase)"
```

---

### Task 3: Implement Web showToast Function

**Files:**
- Modify: `klard-web/src/components/ui/toast.tsx`

**Step 1: Implement showToast**

```typescript
// klard-web/src/components/ui/toast.tsx
import { toast } from "sonner";

export type ToastType = "success" | "error" | "warning" | "info";

export interface ToastAction {
  label: string;
  onClick: () => void;
}

export interface ToastProps {
  type: ToastType;
  title: string;
  description?: string;
  duration?: number;
  action?: ToastAction;
}

/**
 * Display a toast notification
 *
 * @example
 * showToast({
 *   type: "success",
 *   title: "Changes saved",
 *   description: "Your profile has been updated",
 * });
 */
export function showToast({ type, title, description, duration, action }: ToastProps): void {
  const options: Parameters<typeof toast.success>[1] = {};

  if (description) {
    options.description = description;
  }

  if (duration !== undefined) {
    options.duration = duration;
  }

  if (action) {
    options.action = {
      label: action.label,
      onClick: action.onClick,
    };
  }

  toast[type](title, options);
}
```

**Step 2: Run test to verify it passes**

Run: `pnpm --filter klard-web test src/__tests__/components/ui/toast.test.tsx --run`
Expected: PASS

**Step 3: Commit**

```bash
git add klard-web/src/components/ui/toast.tsx
git commit -m "feat(web): implement showToast function"
```

---

### Task 4: Add Sonner Toaster Component

**Files:**
- Create: `klard-web/src/components/ui/sonner.tsx`

**Step 1: Check if sonner is installed**

Run: `grep -q '"sonner"' klard-web/package.json && echo "installed" || echo "not installed"`

If not installed:
Run: `pnpm --filter klard-web add sonner`

**Step 2: Create Toaster component with Klard styling**

```typescript
// klard-web/src/components/ui/sonner.tsx
"use client";

import { Toaster as SonnerToaster } from "sonner";

interface ToasterProps {
  position?: "top-left" | "top-center" | "top-right" | "bottom-left" | "bottom-center" | "bottom-right";
}

/**
 * Klard-styled Toaster component
 *
 * Add this to your root layout to enable toast notifications:
 * @example
 * // app/layout.tsx
 * import { Toaster } from "@/components/ui/sonner";
 *
 * export default function RootLayout({ children }) {
 *   return (
 *     <html>
 *       <body>
 *         {children}
 *         <Toaster />
 *       </body>
 *     </html>
 *   );
 * }
 */
export function Toaster({ position = "bottom-right" }: ToasterProps) {
  return (
    <SonnerToaster
      position={position}
      richColors
      toastOptions={{
        classNames: {
          toast: "border-slate-200 bg-white shadow-lg",
          title: "text-slate-900 font-medium",
          description: "text-slate-500",
          actionButton: "bg-teal-600 text-white hover:bg-teal-700",
          cancelButton: "bg-slate-100 text-slate-600 hover:bg-slate-200",
          success: "border-green-200 bg-green-50",
          error: "border-red-200 bg-red-50",
          warning: "border-amber-200 bg-amber-50",
          info: "border-teal-200 bg-teal-50",
        },
      }}
    />
  );
}
```

**Step 3: Verify TypeScript compiles**

Run: `pnpm --filter klard-web exec tsc --noEmit`
Expected: No errors

**Step 4: Commit**

```bash
git add klard-web/src/components/ui/sonner.tsx
git commit -m "feat(web): add Klard-styled Toaster component"
```

---

### Task 5: Define Mobile Toast Types

**Files:**
- Create: `klard-mobile/src/components/ui/Toast.tsx`

**Step 1: Create type definitions**

```typescript
// klard-mobile/src/components/ui/Toast.tsx
export type ToastType = "success" | "error" | "warning" | "info";

export interface ToastAction {
  label: string;
  onClick: () => void;
}

export interface ToastProps {
  type: ToastType;
  title: string;
  description?: string;
  duration?: number;
  action?: ToastAction;
}

// Implementation will be added in Task 7
```

**Step 2: Verify file created**

Run: `ls klard-mobile/src/components/ui/Toast.tsx`
Expected: File exists

**Step 3: Commit**

```bash
git add klard-mobile/src/components/ui/Toast.tsx
git commit -m "feat(mobile): add toast type definitions"
```

---

### Task 6: Write Mobile Toast Tests

**Files:**
- Create: `klard-mobile/src/__tests__/components/ui/Toast.test.tsx`

**Step 1: Write the failing tests**

```typescript
// klard-mobile/src/__tests__/components/ui/Toast.test.tsx
/**
 * Tests for Toast Component (Mobile)
 *
 * TDD: Write failing tests first, then implement to pass.
 */

import React from "react";
import { render, waitFor } from "@testing-library/react-native";
import { showToast } from "@/components/ui/Toast";
import Toast from "react-native-toast-message";
import * as Haptics from "expo-haptics";

// Mock react-native-toast-message
jest.mock("react-native-toast-message", () => ({
  show: jest.fn(),
  hide: jest.fn(),
  __esModule: true,
  default: jest.fn(() => null),
}));

// Mock expo-haptics
jest.mock("expo-haptics", () => ({
  notificationAsync: jest.fn(),
  NotificationFeedbackType: {
    Success: "success",
    Warning: "warning",
    Error: "error",
  },
}));

describe("Toast", () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });

  describe("showToast function", () => {
    it("should call Toast.show for success type", () => {
      showToast({
        type: "success",
        title: "Success!",
      });

      expect(Toast.show).toHaveBeenCalledWith(
        expect.objectContaining({
          type: "success",
          text1: "Success!",
        })
      );
    });

    it("should call Toast.show for error type", () => {
      showToast({
        type: "error",
        title: "Error occurred",
      });

      expect(Toast.show).toHaveBeenCalledWith(
        expect.objectContaining({
          type: "error",
          text1: "Error occurred",
        })
      );
    });

    it("should call Toast.show for warning type", () => {
      showToast({
        type: "warning",
        title: "Warning",
      });

      expect(Toast.show).toHaveBeenCalledWith(
        expect.objectContaining({
          type: "warning",
          text1: "Warning",
        })
      );
    });

    it("should call Toast.show for info type", () => {
      showToast({
        type: "info",
        title: "Info",
      });

      expect(Toast.show).toHaveBeenCalledWith(
        expect.objectContaining({
          type: "info",
          text1: "Info",
        })
      );
    });

    it("should pass description as text2", () => {
      showToast({
        type: "success",
        title: "Title",
        description: "This is a description",
      });

      expect(Toast.show).toHaveBeenCalledWith(
        expect.objectContaining({
          text1: "Title",
          text2: "This is a description",
        })
      );
    });

    it("should pass duration as visibilityTime", () => {
      showToast({
        type: "success",
        title: "Title",
        duration: 5000,
      });

      expect(Toast.show).toHaveBeenCalledWith(
        expect.objectContaining({
          visibilityTime: 5000,
        })
      );
    });

    it("should trigger haptic feedback for success", async () => {
      showToast({
        type: "success",
        title: "Success",
      });

      await waitFor(() => {
        expect(Haptics.notificationAsync).toHaveBeenCalledWith(
          Haptics.NotificationFeedbackType.Success
        );
      });
    });

    it("should trigger haptic feedback for error", async () => {
      showToast({
        type: "error",
        title: "Error",
      });

      await waitFor(() => {
        expect(Haptics.notificationAsync).toHaveBeenCalledWith(
          Haptics.NotificationFeedbackType.Error
        );
      });
    });

    it("should trigger haptic feedback for warning", async () => {
      showToast({
        type: "warning",
        title: "Warning",
      });

      await waitFor(() => {
        expect(Haptics.notificationAsync).toHaveBeenCalledWith(
          Haptics.NotificationFeedbackType.Warning
        );
      });
    });

    it("should pass action via props when provided", () => {
      const handleClick = jest.fn();

      showToast({
        type: "success",
        title: "Title",
        action: {
          label: "Undo",
          onClick: handleClick,
        },
      });

      expect(Toast.show).toHaveBeenCalledWith(
        expect.objectContaining({
          props: expect.objectContaining({
            action: expect.objectContaining({
              label: "Undo",
              onClick: handleClick,
            }),
          }),
        })
      );
    });

    it("should use bottom position by default", () => {
      showToast({
        type: "info",
        title: "Info",
      });

      expect(Toast.show).toHaveBeenCalledWith(
        expect.objectContaining({
          position: "bottom",
        })
      );
    });
  });
});
```

**Step 2: Run test to verify it fails**

Run: `pnpm --filter klard-mobile test src/__tests__/components/ui/Toast.test.tsx --run`
Expected: FAIL with "showToast is not exported" or similar

**Step 3: Commit failing test**

```bash
git add klard-mobile/src/__tests__/components/ui/Toast.test.tsx
git commit -m "test(mobile): add toast component tests (TDD red phase)"
```

---

### Task 7: Implement Mobile showToast Function

**Files:**
- Modify: `klard-mobile/src/components/ui/Toast.tsx`

**Step 1: Check if dependencies are installed**

Run: `grep -q '"react-native-toast-message"' klard-mobile/package.json && echo "installed" || echo "not installed"`

If not installed:
Run: `pnpm --filter klard-mobile add react-native-toast-message`

**Step 2: Implement showToast**

```typescript
// klard-mobile/src/components/ui/Toast.tsx
import ToastLib from "react-native-toast-message";
import * as Haptics from "expo-haptics";

export type ToastType = "success" | "error" | "warning" | "info";

export interface ToastAction {
  label: string;
  onClick: () => void;
}

export interface ToastProps {
  type: ToastType;
  title: string;
  description?: string;
  duration?: number;
  action?: ToastAction;
}

const hapticFeedback: Record<ToastType, Haptics.NotificationFeedbackType | null> = {
  success: Haptics.NotificationFeedbackType.Success,
  error: Haptics.NotificationFeedbackType.Error,
  warning: Haptics.NotificationFeedbackType.Warning,
  info: null, // No haptic for info
};

/**
 * Display a toast notification on mobile
 *
 * @example
 * showToast({
 *   type: "success",
 *   title: "Changes saved",
 *   description: "Your profile has been updated",
 * });
 */
export function showToast({
  type,
  title,
  description,
  duration,
  action,
}: ToastProps): void {
  // Trigger haptic feedback
  const feedback = hapticFeedback[type];
  if (feedback) {
    Haptics.notificationAsync(feedback);
  }

  ToastLib.show({
    type,
    text1: title,
    text2: description,
    visibilityTime: duration ?? 3000,
    position: "bottom",
    props: action ? { action } : undefined,
  });
}

/**
 * Hide the currently visible toast
 */
export function hideToast(): void {
  ToastLib.hide();
}
```

**Step 3: Run test to verify it passes**

Run: `pnpm --filter klard-mobile test src/__tests__/components/ui/Toast.test.tsx --run`
Expected: PASS

**Step 4: Commit**

```bash
git add klard-mobile/src/components/ui/Toast.tsx
git commit -m "feat(mobile): implement showToast function with haptics"
```

---

### Task 8: Create Mobile Toast Config with Klard Styling

**Files:**
- Create: `klard-mobile/src/components/ui/ToastConfig.tsx`

**Step 1: Create custom toast config**

```typescript
// klard-mobile/src/components/ui/ToastConfig.tsx
import React from "react";
import { View, Text, Pressable, StyleSheet } from "react-native";
import { BaseToast, ErrorToast, BaseToastProps } from "react-native-toast-message";
import { Ionicons } from "@expo/vector-icons";

// Klard Design System colors
const colors = {
  success: {
    bg: "#ECFDF5",
    border: "#059669",
    text: "#065F46",
    icon: "#059669",
  },
  error: {
    bg: "#FEF2F2",
    border: "#DC2626",
    text: "#991B1B",
    icon: "#DC2626",
  },
  warning: {
    bg: "#FFFBEB",
    border: "#D97706",
    text: "#92400E",
    icon: "#D97706",
  },
  info: {
    bg: "#F0FDFA",
    border: "#0D7C7A",
    text: "#115E59",
    icon: "#0D7C7A",
  },
};

const icons: Record<string, keyof typeof Ionicons.glyphMap> = {
  success: "checkmark-circle",
  error: "alert-circle",
  warning: "warning",
  info: "information-circle",
};

interface CustomToastProps extends BaseToastProps {
  props?: {
    action?: {
      label: string;
      onClick: () => void;
    };
  };
}

function createToastComponent(type: keyof typeof colors) {
  return function CustomToast({ text1, text2, props, ...rest }: CustomToastProps) {
    const color = colors[type];
    const iconName = icons[type];

    return (
      <View style={[styles.container, { backgroundColor: color.bg, borderLeftColor: color.border }]}>
        <Ionicons name={iconName} size={24} color={color.icon} style={styles.icon} />
        <View style={styles.content}>
          {text1 && <Text style={[styles.title, { color: color.text }]}>{text1}</Text>}
          {text2 && <Text style={[styles.description, { color: color.text }]}>{text2}</Text>}
        </View>
        {props?.action && (
          <Pressable
            onPress={props.action.onClick}
            style={({ pressed }) => [
              styles.actionButton,
              { backgroundColor: color.border, opacity: pressed ? 0.8 : 1 },
            ]}
          >
            <Text style={styles.actionText}>{props.action.label}</Text>
          </Pressable>
        )}
      </View>
    );
  };
}

/**
 * Klard-styled toast configuration for react-native-toast-message
 *
 * @example
 * // App.tsx or _layout.tsx
 * import Toast from "react-native-toast-message";
 * import { toastConfig } from "@/components/ui/ToastConfig";
 *
 * export default function App() {
 *   return (
 *     <>
 *       {children}
 *       <Toast config={toastConfig} />
 *     </>
 *   );
 * }
 */
export const toastConfig = {
  success: createToastComponent("success"),
  error: createToastComponent("error"),
  warning: createToastComponent("warning"),
  info: createToastComponent("info"),
};

const styles = StyleSheet.create({
  container: {
    flexDirection: "row",
    alignItems: "center",
    width: "90%",
    minHeight: 60,
    paddingHorizontal: 16,
    paddingVertical: 12,
    borderRadius: 12,
    borderLeftWidth: 4,
    shadowColor: "#000",
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.1,
    shadowRadius: 8,
    elevation: 4,
  },
  icon: {
    marginRight: 12,
  },
  content: {
    flex: 1,
  },
  title: {
    fontSize: 15,
    fontWeight: "600",
    marginBottom: 2,
  },
  description: {
    fontSize: 13,
    opacity: 0.9,
  },
  actionButton: {
    paddingHorizontal: 12,
    paddingVertical: 6,
    borderRadius: 6,
    marginLeft: 8,
  },
  actionText: {
    color: "#FFFFFF",
    fontSize: 13,
    fontWeight: "600",
  },
});
```

**Step 2: Verify TypeScript compiles**

Run: `pnpm --filter klard-mobile exec tsc --noEmit`
Expected: No errors

**Step 3: Commit**

```bash
git add klard-mobile/src/components/ui/ToastConfig.tsx
git commit -m "feat(mobile): add Klard-styled toast configuration"
```

---

### Task 9: Update Component Exports

**Files:**
- Modify: `klard-web/src/components/ui/index.ts`
- Modify: `klard-mobile/src/components/ui/index.ts`

**Step 1: Update web exports**

Add to `klard-web/src/components/ui/index.ts`:

```typescript
export { Toaster } from './sonner';
export { showToast, type ToastProps, type ToastType, type ToastAction } from './toast';
```

**Step 2: Update mobile exports**

Add to `klard-mobile/src/components/ui/index.ts`:

```typescript
export { showToast, hideToast, type ToastProps, type ToastType, type ToastAction } from './Toast';
export { toastConfig } from './ToastConfig';
```

**Step 3: Verify TypeScript compiles for both**

Run: `pnpm --filter klard-web exec tsc --noEmit && pnpm --filter klard-mobile exec tsc --noEmit`
Expected: No errors

**Step 4: Commit**

```bash
git add klard-web/src/components/ui/index.ts klard-mobile/src/components/ui/index.ts
git commit -m "feat: export toast components from ui index"
```

---

### Task 10: Verification and Mark Complete

**Step 1: Run all web tests**

Run: `pnpm --filter klard-web test --run`
Expected: All tests PASS

**Step 2: Run all mobile tests**

Run: `pnpm --filter klard-mobile test --run`
Expected: All tests PASS

**Step 3: TypeScript check both packages**

Run: `pnpm --filter klard-web exec tsc --noEmit && pnpm --filter klard-mobile exec tsc --noEmit`
Expected: No errors

**Step 4: Update spec marker to DONE**

Edit `docs/screens/batch/Klard_Component_Specifications.md`:

Change:
```
<!-- IN-PROGRESS:4.1-toast-notification -->
```

To:
```
<!-- DONE:4.1-toast-notification -->
```

**Step 5: Final commit**

```bash
git add docs/screens/batch/Klard_Component_Specifications.md
git commit -m "docs: mark 4.1-toast-notification as done"
```

---

## Usage Examples

### Web Usage

```tsx
// app/layout.tsx
import { Toaster } from "@/components/ui/sonner";

export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        {children}
        <Toaster />
      </body>
    </html>
  );
}

// Any component
import { showToast } from "@/components/ui/toast";

function MyComponent() {
  const handleSave = async () => {
    try {
      await saveData();
      showToast({
        type: "success",
        title: "Saved!",
        description: "Your changes have been saved.",
      });
    } catch (error) {
      showToast({
        type: "error",
        title: "Error",
        description: "Failed to save changes.",
        action: {
          label: "Retry",
          onClick: handleSave,
        },
      });
    }
  };
}
```

### Mobile Usage

```tsx
// app/_layout.tsx
import Toast from "react-native-toast-message";
import { toastConfig } from "@/components/ui/ToastConfig";

export default function RootLayout() {
  return (
    <>
      <Stack />
      <Toast config={toastConfig} />
    </>
  );
}

// Any component
import { showToast } from "@/components/ui/Toast";

function MyComponent() {
  const handleSave = async () => {
    try {
      await saveData();
      showToast({
        type: "success",
        title: "Saved!",
        description: "Your changes have been saved.",
      });
    } catch (error) {
      showToast({
        type: "error",
        title: "Error",
        description: "Failed to save changes.",
      });
    }
  };
}
```

---

## Dependencies Required

### Web
- `sonner` - Toast library

### Mobile
- `react-native-toast-message` - Toast library
- `expo-haptics` - Already installed (haptic feedback)
- `@expo/vector-icons` - Already installed (icons)
