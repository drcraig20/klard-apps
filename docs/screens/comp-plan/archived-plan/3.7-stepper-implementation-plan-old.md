# 3.7 Stepper / Progress Indicator Implementation Plan

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** Build a multi-step progress indicator component for both Web (Next.js) and Mobile (Expo) platforms that shows progress through multi-step flows.

**Architecture:** Custom component using CVA for variant management on Web, StyleSheet on Mobile. Horizontal and vertical orientations supported. Steps show completed (checkmark), active (highlighted), and pending states.

**Tech Stack:**
- Web: React 19, TypeScript, Tailwind CSS 4, CVA, lucide-react (Check icon)
- Mobile: React Native, Expo SDK 54, @expo/vector-icons (Ionicons), Animated API

---

## SOLID Compliance

| Component | SRP | OCP | LSP | ISP | DIP |
|-----------|-----|-----|-----|-----|-----|
| Stepper (Web) | Renders step progress only | Extensible via orientation prop | Handles all step states | Single StepperProps interface | Depends on Step type abstraction |
| Stepper (Mobile) | Renders step progress only | Extensible via orientation prop | Handles all step states | Single StepperProps interface | Depends on Step type abstraction, useThemeColors hook |
| StepCircle | Renders single step indicator | State-driven via props | N/A (leaf component) | Minimal props interface | Depends on state abstraction |

### Principle Applications

**SRP:** Component only renders step progress visualization - no business logic
**OCP:** New orientations or states can be added via props without modifying core logic
**LSP:** All step states (completed, active, pending) handled consistently
**ISP:** Single focused interface with only necessary props
**DIP:** Depends on Step type abstraction, theme colors injected via hook (mobile)

---

## Props Interface

```typescript
interface Step {
  label: string;
  description?: string;
}

interface StepperProps {
  steps: Step[];
  currentStep: number; // 0-indexed
  orientation?: 'horizontal' | 'vertical';
  className?: string; // Web only
  style?: StyleProp<ViewStyle>; // Mobile only
}
```

---

## Visual States

| State | Circle Style | Label Style | Connector Style |
|-------|--------------|-------------|-----------------|
| Completed | bg-teal-600, white checkmark | text-slate-900 | bg-teal-600 |
| Active | bg-teal-600, white number, ring-4 ring-teal-100 | text-slate-900 font-medium | bg-slate-200 |
| Pending | bg-slate-200, text-slate-500 | text-slate-500 | bg-slate-200 |

---

## Test Strategy

Tests will be written FIRST following TDD:
1. Rendering tests - component mounts with required props
2. Step state tests - completed/active/pending states render correctly
3. Orientation tests - horizontal/vertical layouts
4. Accessibility tests - proper ARIA attributes
5. Edge case tests - single step, all completed, none completed

---

## Task Breakdown

### Task 1: Create Web Stepper Test File (RED)

**Files:**
- Create: `klard-web/src/__tests__/components/ui/stepper.test.tsx`

**Step 1: Write the failing tests**

```tsx
/**
 * Tests for Stepper Component
 *
 * TDD: Write failing tests first, then implement to pass.
 * Tests verify: rendering, step states, orientations, accessibility
 */

import { describe, it, expect } from 'vitest';
import { render, screen } from '@testing-library/react';
import { Stepper } from '@/components/ui/stepper';

const mockSteps = [
  { label: 'Step 1', description: 'First step' },
  { label: 'Step 2', description: 'Second step' },
  { label: 'Step 3', description: 'Third step' },
];

describe('Stepper', () => {
  describe('Rendering', () => {
    it('should render stepper container', () => {
      render(<Stepper steps={mockSteps} currentStep={0} />);

      const stepper = screen.getByRole('navigation', { name: /progress/i });
      expect(stepper).toBeInTheDocument();
    });

    it('should render all step labels', () => {
      render(<Stepper steps={mockSteps} currentStep={0} />);

      expect(screen.getByText('Step 1')).toBeInTheDocument();
      expect(screen.getByText('Step 2')).toBeInTheDocument();
      expect(screen.getByText('Step 3')).toBeInTheDocument();
    });

    it('should render with data-slot attribute', () => {
      const { container } = render(<Stepper steps={mockSteps} currentStep={0} />);

      const stepper = container.querySelector('[data-slot="stepper"]');
      expect(stepper).toBeInTheDocument();
    });
  });

  describe('Step States', () => {
    it('should mark completed steps with checkmark', () => {
      render(<Stepper steps={mockSteps} currentStep={2} />);

      const completedSteps = screen.getAllByTestId('step-completed');
      expect(completedSteps).toHaveLength(2);
    });

    it('should mark active step with ring', () => {
      const { container } = render(<Stepper steps={mockSteps} currentStep={1} />);

      const activeStep = container.querySelector('[data-state="active"]');
      expect(activeStep).toBeInTheDocument();
      expect(activeStep?.className).toMatch(/ring-4/);
    });

    it('should mark pending steps with number', () => {
      render(<Stepper steps={mockSteps} currentStep={0} />);

      expect(screen.getByText('2')).toBeInTheDocument();
      expect(screen.getByText('3')).toBeInTheDocument();
    });

    it('should show step 1 as active when currentStep is 0', () => {
      const { container } = render(<Stepper steps={mockSteps} currentStep={0} />);

      const activeStep = container.querySelector('[data-state="active"]');
      expect(activeStep).toHaveTextContent('1');
    });
  });

  describe('Orientations', () => {
    it('should render horizontal by default', () => {
      const { container } = render(<Stepper steps={mockSteps} currentStep={0} />);

      const stepper = container.querySelector('[data-slot="stepper"]');
      expect(stepper?.className).toMatch(/flex-row/);
    });

    it('should render vertical when orientation is vertical', () => {
      const { container } = render(
        <Stepper steps={mockSteps} currentStep={0} orientation="vertical" />
      );

      const stepper = container.querySelector('[data-slot="stepper"]');
      expect(stepper?.className).toMatch(/flex-col/);
    });
  });

  describe('Connectors', () => {
    it('should render connectors between steps in horizontal mode', () => {
      const { container } = render(<Stepper steps={mockSteps} currentStep={0} />);

      const connectors = container.querySelectorAll('[data-slot="connector"]');
      expect(connectors).toHaveLength(2); // 3 steps = 2 connectors
    });

    it('should style completed connectors with teal', () => {
      const { container } = render(<Stepper steps={mockSteps} currentStep={2} />);

      const connectors = container.querySelectorAll('[data-slot="connector"]');
      expect(connectors[0]?.className).toMatch(/bg-teal-600/);
      expect(connectors[1]?.className).toMatch(/bg-teal-600/);
    });
  });

  describe('Accessibility', () => {
    it('should have aria-current on active step', () => {
      const { container } = render(<Stepper steps={mockSteps} currentStep={1} />);

      const activeStep = container.querySelector('[aria-current="step"]');
      expect(activeStep).toBeInTheDocument();
    });

    it('should have proper step list semantics', () => {
      render(<Stepper steps={mockSteps} currentStep={0} />);

      const list = screen.getByRole('list');
      expect(list).toBeInTheDocument();
    });
  });

  describe('Custom className', () => {
    it('should merge custom className', () => {
      const { container } = render(
        <Stepper steps={mockSteps} currentStep={0} className="custom-class" />
      );

      const stepper = container.querySelector('[data-slot="stepper"]');
      expect(stepper).toHaveClass('custom-class');
    });
  });

  describe('Edge Cases', () => {
    it('should handle single step', () => {
      render(<Stepper steps={[{ label: 'Only Step' }]} currentStep={0} />);

      expect(screen.getByText('Only Step')).toBeInTheDocument();
    });

    it('should handle all steps completed', () => {
      render(<Stepper steps={mockSteps} currentStep={3} />);

      const completedSteps = screen.getAllByTestId('step-completed');
      expect(completedSteps).toHaveLength(3);
    });
  });
});
```

**Step 2: Run test to verify it fails**

Run: `pnpm --filter klard-web test src/__tests__/components/ui/stepper.test.tsx --run`
Expected: FAIL with "Cannot find module '@/components/ui/stepper'"

---

### Task 2: Implement Web Stepper Component (GREEN)

**Files:**
- Create: `klard-web/src/components/ui/stepper.tsx`

**Step 1: Write minimal implementation**

```tsx
'use client';

import * as React from 'react';
import { Check } from 'lucide-react';
import { cn } from '@/lib/utils';

export interface Step {
  label: string;
  description?: string;
}

export interface StepperProps {
  steps: Step[];
  currentStep: number;
  orientation?: 'horizontal' | 'vertical';
  className?: string;
}

type StepState = 'completed' | 'active' | 'pending';

function getStepState(index: number, currentStep: number): StepState {
  if (index < currentStep) return 'completed';
  if (index === currentStep) return 'active';
  return 'pending';
}

const circleStyles: Record<StepState, string> = {
  completed: 'bg-teal-600 dark:bg-teal-500 text-white',
  active: 'bg-teal-600 dark:bg-teal-500 text-white ring-4 ring-teal-100 dark:ring-teal-900',
  pending: 'bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400',
};

const labelStyles: Record<StepState, string> = {
  completed: 'text-slate-900 dark:text-slate-100',
  active: 'text-slate-900 dark:text-slate-100 font-medium',
  pending: 'text-slate-500 dark:text-slate-400',
};

function Stepper({
  steps,
  currentStep,
  orientation = 'horizontal',
  className,
}: StepperProps) {
  const isHorizontal = orientation === 'horizontal';

  return (
    <nav
      aria-label="Progress"
      data-slot="stepper"
      className={cn(
        'flex',
        isHorizontal ? 'flex-row items-center' : 'flex-col',
        className
      )}
    >
      <ol
        role="list"
        className={cn(
          'flex',
          isHorizontal ? 'flex-row items-center w-full' : 'flex-col gap-4'
        )}
      >
        {steps.map((step, index) => {
          const state = getStepState(index, currentStep);
          const isLast = index === steps.length - 1;

          return (
            <li
              key={index}
              className={cn(
                'flex',
                isHorizontal ? 'items-center' : 'flex-col',
                isHorizontal && !isLast && 'flex-1'
              )}
              aria-current={state === 'active' ? 'step' : undefined}
            >
              <div className={cn('flex items-center gap-2', !isHorizontal && 'gap-3')}>
                {/* Step Circle */}
                <div
                  data-state={state}
                  data-testid={state === 'completed' ? 'step-completed' : undefined}
                  className={cn(
                    'flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-sm font-medium transition-all',
                    circleStyles[state]
                  )}
                >
                  {state === 'completed' ? (
                    <Check className="h-4 w-4" aria-hidden="true" />
                  ) : (
                    <span>{index + 1}</span>
                  )}
                </div>

                {/* Step Label */}
                <div className="flex flex-col">
                  <span className={cn('text-sm', labelStyles[state])}>
                    {step.label}
                  </span>
                  {step.description && (
                    <span className="text-xs text-slate-500 dark:text-slate-400">
                      {step.description}
                    </span>
                  )}
                </div>
              </div>

              {/* Connector */}
              {!isLast && isHorizontal && (
                <div
                  data-slot="connector"
                  className={cn(
                    'mx-4 h-0.5 flex-1 transition-colors',
                    index < currentStep
                      ? 'bg-teal-600 dark:bg-teal-500'
                      : 'bg-slate-200 dark:bg-slate-700'
                  )}
                  aria-hidden="true"
                />
              )}

              {/* Vertical Connector */}
              {!isLast && !isHorizontal && (
                <div
                  data-slot="connector"
                  className={cn(
                    'ml-4 mt-2 h-8 w-0.5 transition-colors',
                    index < currentStep
                      ? 'bg-teal-600 dark:bg-teal-500'
                      : 'bg-slate-200 dark:bg-slate-700'
                  )}
                  aria-hidden="true"
                />
              )}
            </li>
          );
        })}
      </ol>
    </nav>
  );
}

export { Stepper };
```

**Step 2: Run test to verify it passes**

Run: `pnpm --filter klard-web test src/__tests__/components/ui/stepper.test.tsx --run`
Expected: PASS

---

### Task 3: Export Web Stepper from Index

**Files:**
- Modify: `klard-web/src/components/ui/index.ts`

**Step 1: Add export**

Add to the end of the file:
```typescript
export { Stepper, type StepperProps, type Step } from './stepper';
```

**Step 2: Run TypeScript check**

Run: `pnpm --filter klard-web exec tsc --noEmit`
Expected: No errors

**Step 3: Commit**

```bash
git add klard-web/src/components/ui/stepper.tsx klard-web/src/components/ui/index.ts klard-web/src/__tests__/components/ui/stepper.test.tsx
git commit -m "feat(web): add stepper component with TDD"
```

---

### Task 4: Create Mobile Stepper Test File (RED)

**Files:**
- Create: `klard-mobile/src/__tests__/components/ui/Stepper.test.tsx`

**Step 1: Write the failing tests**

```tsx
/**
 * Tests for Stepper Component (Mobile)
 *
 * TDD: Write failing tests first, then implement to pass.
 */

import React from 'react';
import { render, screen } from '@testing-library/react-native';
import { Stepper } from '@/components/ui/Stepper';

// Mock hooks
jest.mock('@/hooks', () => ({
  useThemeColors: () => ({
    primary: '#0D7C7A',
    muted: '#E2E8F0',
    textPrimary: '#0F172A',
    textSecondary: '#64748B',
    background: '#FFFFFF',
  }),
}));

const mockSteps = [
  { label: 'Step 1', description: 'First step' },
  { label: 'Step 2', description: 'Second step' },
  { label: 'Step 3', description: 'Third step' },
];

describe('Stepper', () => {
  describe('Rendering', () => {
    it('should render stepper container', () => {
      render(<Stepper steps={mockSteps} currentStep={0} />);

      expect(screen.getByTestId('stepper-container')).toBeTruthy();
    });

    it('should render all step labels', () => {
      render(<Stepper steps={mockSteps} currentStep={0} />);

      expect(screen.getByText('Step 1')).toBeTruthy();
      expect(screen.getByText('Step 2')).toBeTruthy();
      expect(screen.getByText('Step 3')).toBeTruthy();
    });

    it('should render step descriptions when provided', () => {
      render(<Stepper steps={mockSteps} currentStep={0} />);

      expect(screen.getByText('First step')).toBeTruthy();
    });
  });

  describe('Step States', () => {
    it('should mark completed steps', () => {
      render(<Stepper steps={mockSteps} currentStep={2} />);

      const completedSteps = screen.getAllByTestId('step-completed');
      expect(completedSteps).toHaveLength(2);
    });

    it('should mark active step', () => {
      render(<Stepper steps={mockSteps} currentStep={1} />);

      expect(screen.getByTestId('step-active')).toBeTruthy();
    });

    it('should show step numbers for pending steps', () => {
      render(<Stepper steps={mockSteps} currentStep={0} />);

      expect(screen.getByText('2')).toBeTruthy();
      expect(screen.getByText('3')).toBeTruthy();
    });
  });

  describe('Orientations', () => {
    it('should render horizontal by default', () => {
      render(<Stepper steps={mockSteps} currentStep={0} />);

      const container = screen.getByTestId('stepper-container');
      expect(container.props.style).toMatchObject(
        expect.objectContaining({ flexDirection: 'row' })
      );
    });

    it('should render vertical when orientation is vertical', () => {
      render(<Stepper steps={mockSteps} currentStep={0} orientation="vertical" />);

      const container = screen.getByTestId('stepper-container');
      expect(container.props.style).toMatchObject(
        expect.objectContaining({ flexDirection: 'column' })
      );
    });
  });

  describe('Connectors', () => {
    it('should render connectors between steps', () => {
      render(<Stepper steps={mockSteps} currentStep={0} />);

      const connectors = screen.getAllByTestId('step-connector');
      expect(connectors).toHaveLength(2);
    });
  });

  describe('Accessibility', () => {
    it('should have progressbar role on container', () => {
      render(<Stepper steps={mockSteps} currentStep={1} />);

      const container = screen.getByTestId('stepper-container');
      expect(container.props.accessibilityRole).toBe('progressbar');
    });

    it('should have correct accessibility value', () => {
      render(<Stepper steps={mockSteps} currentStep={1} />);

      const container = screen.getByTestId('stepper-container');
      expect(container.props.accessibilityValue).toEqual({
        now: 2,
        min: 1,
        max: 3,
        text: 'Step 2 of 3',
      });
    });
  });

  describe('Edge Cases', () => {
    it('should handle single step', () => {
      render(<Stepper steps={[{ label: 'Only Step' }]} currentStep={0} />);

      expect(screen.getByText('Only Step')).toBeTruthy();
      expect(screen.queryAllByTestId('step-connector')).toHaveLength(0);
    });

    it('should handle all steps completed', () => {
      render(<Stepper steps={mockSteps} currentStep={3} />);

      const completedSteps = screen.getAllByTestId('step-completed');
      expect(completedSteps).toHaveLength(3);
    });
  });
});
```

**Step 2: Run test to verify it fails**

Run: `pnpm --filter klard-mobile test src/__tests__/components/ui/Stepper.test.tsx --run`
Expected: FAIL with "Cannot find module '@/components/ui/Stepper'"

---

### Task 5: Create Mobile Stepper Styles

**Files:**
- Create: `klard-mobile/src/components/ui/Stepper/stepper.styles.ts`

**Step 1: Write styles**

```typescript
import { StyleSheet } from 'react-native';

export const styles = StyleSheet.create({
  container: {
    flexDirection: 'row',
    alignItems: 'center',
  },
  containerVertical: {
    flexDirection: 'column',
    alignItems: 'flex-start',
  },
  stepWrapper: {
    flexDirection: 'row',
    alignItems: 'center',
  },
  stepWrapperVertical: {
    flexDirection: 'column',
    alignItems: 'flex-start',
  },
  stepContent: {
    flexDirection: 'row',
    alignItems: 'center',
    gap: 8,
  },
  stepContentVertical: {
    flexDirection: 'row',
    alignItems: 'center',
    gap: 12,
  },
  circle: {
    width: 32,
    height: 32,
    borderRadius: 16,
    alignItems: 'center',
    justifyContent: 'center',
  },
  circleActive: {
    // Ring effect via shadow on iOS, elevation on Android
    shadowColor: '#0D7C7A',
    shadowOffset: { width: 0, height: 0 },
    shadowOpacity: 0.3,
    shadowRadius: 8,
    elevation: 4,
  },
  circleNumber: {
    fontSize: 14,
    fontWeight: '500',
  },
  labelContainer: {
    flexDirection: 'column',
  },
  label: {
    fontSize: 14,
  },
  labelActive: {
    fontWeight: '500',
  },
  description: {
    fontSize: 12,
    marginTop: 2,
  },
  connectorHorizontal: {
    height: 2,
    flex: 1,
    marginHorizontal: 16,
  },
  connectorVertical: {
    width: 2,
    height: 32,
    marginLeft: 15, // Center under 32px circle
    marginVertical: 8,
  },
});
```

---

### Task 6: Implement Mobile Stepper Component (GREEN)

**Files:**
- Create: `klard-mobile/src/components/ui/Stepper/Stepper.tsx`

**Step 1: Write implementation**

```tsx
import React from 'react';
import { View, Text, StyleSheet, type StyleProp, type ViewStyle } from 'react-native';
import { Ionicons } from '@expo/vector-icons';
import { useThemeColors } from '@/hooks';
import { styles } from './stepper.styles';

export interface Step {
  label: string;
  description?: string;
}

export interface StepperProps {
  steps: Step[];
  currentStep: number;
  orientation?: 'horizontal' | 'vertical';
  style?: StyleProp<ViewStyle>;
}

type StepState = 'completed' | 'active' | 'pending';

function getStepState(index: number, currentStep: number): StepState {
  if (index < currentStep) return 'completed';
  if (index === currentStep) return 'active';
  return 'pending';
}

export function Stepper({
  steps,
  currentStep,
  orientation = 'horizontal',
  style,
}: StepperProps) {
  const colors = useThemeColors();
  const isHorizontal = orientation === 'horizontal';

  const getCircleStyle = (state: StepState): ViewStyle => {
    const baseStyle: ViewStyle = {
      ...styles.circle,
      backgroundColor: state === 'pending' ? colors.muted : colors.primary,
    };

    if (state === 'active') {
      return { ...baseStyle, ...styles.circleActive };
    }

    return baseStyle;
  };

  const getCircleTextColor = (state: StepState): string => {
    return state === 'pending' ? colors.textSecondary : '#FFFFFF';
  };

  const getLabelColor = (state: StepState): string => {
    return state === 'pending' ? colors.textSecondary : colors.textPrimary;
  };

  const getConnectorColor = (index: number): string => {
    return index < currentStep ? colors.primary : colors.muted;
  };

  return (
    <View
      testID="stepper-container"
      accessibilityRole="progressbar"
      accessibilityValue={{
        now: currentStep + 1,
        min: 1,
        max: steps.length,
        text: `Step ${currentStep + 1} of ${steps.length}`,
      }}
      style={[
        isHorizontal ? styles.container : styles.containerVertical,
        style,
      ]}
    >
      {steps.map((step, index) => {
        const state = getStepState(index, currentStep);
        const isLast = index === steps.length - 1;

        return (
          <React.Fragment key={index}>
            <View
              style={[
                isHorizontal ? styles.stepWrapper : styles.stepWrapperVertical,
                isHorizontal && !isLast && { flex: 1 },
              ]}
            >
              <View
                style={isHorizontal ? styles.stepContent : styles.stepContentVertical}
              >
                {/* Step Circle */}
                <View
                  testID={
                    state === 'completed'
                      ? 'step-completed'
                      : state === 'active'
                      ? 'step-active'
                      : 'step-pending'
                  }
                  style={getCircleStyle(state)}
                >
                  {state === 'completed' ? (
                    <Ionicons
                      name="checkmark"
                      size={16}
                      color="#FFFFFF"
                    />
                  ) : (
                    <Text
                      style={[
                        styles.circleNumber,
                        { color: getCircleTextColor(state) },
                      ]}
                    >
                      {index + 1}
                    </Text>
                  )}
                </View>

                {/* Step Label */}
                <View style={styles.labelContainer}>
                  <Text
                    style={[
                      styles.label,
                      state === 'active' && styles.labelActive,
                      { color: getLabelColor(state) },
                    ]}
                  >
                    {step.label}
                  </Text>
                  {step.description && (
                    <Text
                      style={[
                        styles.description,
                        { color: colors.textSecondary },
                      ]}
                    >
                      {step.description}
                    </Text>
                  )}
                </View>
              </View>

              {/* Horizontal Connector (inside step wrapper for flex) */}
              {!isLast && isHorizontal && (
                <View
                  testID="step-connector"
                  style={[
                    styles.connectorHorizontal,
                    { backgroundColor: getConnectorColor(index) },
                  ]}
                />
              )}
            </View>

            {/* Vertical Connector */}
            {!isLast && !isHorizontal && (
              <View
                testID="step-connector"
                style={[
                  styles.connectorVertical,
                  { backgroundColor: getConnectorColor(index) },
                ]}
              />
            )}
          </React.Fragment>
        );
      })}
    </View>
  );
}
```

---

### Task 7: Create Mobile Stepper Index Export

**Files:**
- Create: `klard-mobile/src/components/ui/Stepper/index.ts`

**Step 1: Write export**

```typescript
export { Stepper, type StepperProps, type Step } from './Stepper';
```

**Step 2: Run test to verify it passes**

Run: `pnpm --filter klard-mobile test src/__tests__/components/ui/Stepper.test.tsx --run`
Expected: PASS

---

### Task 8: Export Mobile Stepper from UI Index

**Files:**
- Modify: `klard-mobile/src/components/ui/index.ts`

**Step 1: Add export**

Add to the end of the file:
```typescript
export { Stepper, type StepperProps, type Step } from './Stepper';
```

**Step 2: Run TypeScript check**

Run: `pnpm --filter klard-mobile exec tsc --noEmit`
Expected: No errors

**Step 3: Commit**

```bash
git add klard-mobile/src/components/ui/Stepper/ klard-mobile/src/components/ui/index.ts klard-mobile/src/__tests__/components/ui/Stepper.test.tsx
git commit -m "feat(mobile): add stepper component with TDD"
```

---

### Task 9: Run Full Test Suite and TypeScript Check

**Step 1: Run all web tests**

Run: `pnpm --filter klard-web test --run`
Expected: All tests pass

**Step 2: Run all mobile tests**

Run: `pnpm --filter klard-mobile test --run`
Expected: All tests pass

**Step 3: Run TypeScript check for both**

Run: `pnpm --filter klard-web exec tsc --noEmit && pnpm --filter klard-mobile exec tsc --noEmit`
Expected: No errors

---

### Task 10: Mark Spec as DONE

**Files:**
- Modify: `docs/screens/batch/Klard_Component_Specifications.md`

**Step 1: Update marker**

Replace `<!-- IN-PROGRESS:3.7-stepper-progress-indicator -->` with `<!-- DONE:3.7-stepper-progress-indicator -->`

**Step 2: Final commit**

```bash
git add docs/screens/batch/Klard_Component_Specifications.md
git commit -m "docs: mark stepper component as done"
```

---

## Verification Checklist

Before marking complete, verify:

- [ ] Web component renders without errors
- [ ] Mobile component renders without errors
- [ ] All props implemented and typed
- [ ] All visual states functional (completed, active, pending)
- [ ] Both orientations work (horizontal, vertical)
- [ ] Accessibility attributes included (aria-label, role, aria-current)
- [ ] TypeScript passes with no errors
- [ ] All tests pass
- [ ] Exported from components/ui/index.ts (both platforms)
- [ ] Spec marker updated to DONE

---

## Parallel Sub-Agent Strategy

Tasks that can run in parallel:
- Task 1 + Task 4: Web and Mobile test files (independent)
- Task 5 + Task 2: Mobile styles + Web implementation (after tests exist)
- Task 3 + Task 7-8: Web export + Mobile exports (after implementations)

Sequential dependencies:
- Task 1 must complete before Task 2
- Task 4 must complete before Task 5, 6
- Task 6 must complete before Task 7, 8
- Task 9 must run after all implementations
- Task 10 runs last
